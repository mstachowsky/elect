nohup: ignoring input
INFO:     Will watch for changes in these directories: ['/home/mike/elect/newapp/backend']
INFO:     Uvicorn running on http://0.0.0.0:8990 (Press CTRL+C to quit)
INFO:     Started reloader process [2731344] using StatReload
INFO:     Started server process [2731346]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     100.100.14.61:58449 - "GET / HTTP/1.1" 200 OK
INFO:     100.100.14.61:58449 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2731346]
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 9, in <module>
    from fastapi_users.manager import UserManager, BaseUserManager
ImportError: cannot import name 'UserManager' from 'fastapi_users.manager' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py). Did you mean: 'BaseUserManager'?
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 9, in <module>
    from fastapi_users.manager import UserManager, BaseUserManager
ImportError: cannot import name 'UserManager' from 'fastapi_users.manager' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py). Did you mean: 'BaseUserManager'?
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 9, in <module>
    from fastapi_users.manager import UserManager, BaseUserManager
ImportError: cannot import name 'UserManager' from 'fastapi_users.manager' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py). Did you mean: 'BaseUserManager'?
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-5:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 9, in <module>
    from fastapi_users.manager import UserManager, BaseUserManager
ImportError: cannot import name 'UserManager' from 'fastapi_users.manager' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py). Did you mean: 'BaseUserManager'?
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-6:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 19, in <module>
    app.mount("/static", StaticFiles(directory=frontend_dir), name="static")
    ^^^
NameError: name 'app' is not defined
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-7:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 36, in <module>
    class UserRead(fu_models.BaseUser[uuid.UUID]):
                   ^^^^^^^^^^^^^^^^^^
AttributeError: module 'fastapi_users.models' has no attribute 'BaseUser'
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [2759933]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 286, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "asyncmy/connection.pyx", line 1345, in _connect
  File "asyncmy/connection.pyx", line 596, in connect
  File "asyncmy/connection.pyx", line 574, in asyncmy.connection.Connection.connect
  File "asyncmy/connection.pyx", line 833, in _request_authentication
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
asyncmy.errors.OperationalError: (1698, "Access denied for user 'mike'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 569, in __aenter__
    await self._router.startup()
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 670, in startup
    await handler()
  File "/home/mike/elect/newapp/backend/main_dev.py", line 118, in on_startup
    async with engine.begin() as conn:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/engine.py", line 1066, in begin
    async with conn:
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/base.py", line 121, in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/engine.py", line 274, in start
    await greenlet_spawn(self.sync_engine.connect)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 286, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "asyncmy/connection.pyx", line 1345, in _connect
  File "asyncmy/connection.pyx", line 596, in connect
  File "asyncmy/connection.pyx", line 574, in asyncmy.connection.Connection.connect
  File "asyncmy/connection.pyx", line 833, in _request_authentication
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (1698, "Access denied for user 'mike'@'localhost'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [2761031]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 286, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "asyncmy/connection.pyx", line 1345, in _connect
  File "asyncmy/connection.pyx", line 596, in connect
  File "asyncmy/connection.pyx", line 574, in asyncmy.connection.Connection.connect
  File "asyncmy/connection.pyx", line 833, in _request_authentication
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
asyncmy.errors.OperationalError: (1698, "Access denied for user 'mike'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 693, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 569, in __aenter__
    await self._router.startup()
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 670, in startup
    await handler()
  File "/home/mike/elect/newapp/backend/main_dev.py", line 118, in on_startup
    async with engine.begin() as conn:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/engine.py", line 1066, in begin
    async with conn:
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/base.py", line 121, in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/engine.py", line 274, in start
    await greenlet_spawn(self.sync_engine.connect)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3274, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2439, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 3298, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 286, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "asyncmy/connection.pyx", line 1345, in _connect
  File "asyncmy/connection.pyx", line 596, in connect
  File "asyncmy/connection.pyx", line 574, in asyncmy.connection.Connection.connect
  File "asyncmy/connection.pyx", line 833, in _request_authentication
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (1698, "Access denied for user 'mike'@'localhost'")
(Background on this error at: https://sqlalche.me/e/20/e3q8)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [2766947]
INFO:     Waiting for application startup.
2025-06-06 13:45:17,089 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 13:45:17,089 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:45:17,089 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 13:45:17,090 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:45:17,090 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 13:45:17,090 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:45:17,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:45:17,091 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 13:45:17,091 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:45:17,094 INFO sqlalchemy.engine.Engine 
CREATE TABLE user (
	id VARCHAR(36) NOT NULL, 
	email VARCHAR(320) NOT NULL, 
	hashed_password VARCHAR(1024) NOT NULL, 
	is_active BOOL NOT NULL, 
	is_superuser BOOL NOT NULL, 
	is_verified BOOL NOT NULL, 
	PRIMARY KEY (id)
)


2025-06-06 13:45:17,094 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-06-06 13:45:17,116 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_user_email ON user (email)
2025-06-06 13:45:17,117 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-06-06 13:45:17,141 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:51714 - "GET / HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 25, in serve_frontend
    return FileResponse(os.path.join(frontend_dir, "index_dev.html"))
           ^^^^^^^^^^^^
NameError: name 'FileResponse' is not defined
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2766947]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [2769164]
INFO:     Waiting for application startup.
2025-06-06 13:46:03,882 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 13:46:03,882 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:46:03,883 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 13:46:03,883 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:46:03,883 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 13:46:03,883 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:46:03,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:46:03,884 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 13:46:03,884 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:46:03,888 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:51748 - "GET / HTTP/1.1" 200 OK
INFO:     100.100.14.61:51748 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 13:46:21,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:46:21,263 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:46:21,263 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('mstachow@uwaterloo.ca',)
2025-06-06 13:46:21,264 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51749 - "POST /auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/router/register.py", line 55, in register
    created_user = await user_manager.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 136, in create
    user_create.create_update_dict()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/pydantic/main.py", line 896, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'UserCreate' object has no attribute 'create_update_dict'
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2769164]
Process SpawnProcess-12:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 41, in <module>
    class UserRead(fu_models.BaseUser[uuid.UUID]):
                   ^^^^^^^^^^^^^^^^^^
AttributeError: module 'fastapi_users.models' has no attribute 'BaseUser'
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-13:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 40, in <module>
    from fastapi_users import BaseUser
ImportError: cannot import name 'BaseUser' from 'fastapi_users' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/__init__.py)
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-14:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 8, in <module>
    from fastapi_users.schemas import UserRead, UserCreate, UserUpdate
ImportError: cannot import name 'UserRead' from 'fastapi_users.schemas' (/home/mike/.local/lib/python3.12/site-packages/fastapi_users/schemas.py)
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Started server process [2785460]
INFO:     Waiting for application startup.
2025-06-06 13:51:45,166 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 13:51:45,166 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:51:45,166 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 13:51:45,166 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:51:45,167 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 13:51:45,167 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:51:45,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:51:45,168 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 13:51:45,168 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:51:45,170 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:51771 - "GET / HTTP/1.1" 200 OK
INFO:     100.100.14.61:51771 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 13:51:57,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:51:57,568 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:51:57,568 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ('mstachow@uwaterloo.ca',)
2025-06-06 13:51:57,632 INFO sqlalchemy.engine.Engine INSERT INTO user (id, email, hashed_password, is_active, is_superuser, is_verified) VALUES (%s, %s, %s, %s, %s, %s)
2025-06-06 13:51:57,632 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695', 'mstachow@uwaterloo.ca', '$argon2id$v=19$m=65536,t=3,p=4$Tr4sDMKVp5INNanq8Qnvbg$eC1AMgKQVyxzxXeV38BvZt704qFM0TFHMXznowornoQ', 1, 0, 0)
2025-06-06 13:51:57,633 INFO sqlalchemy.engine.Engine COMMIT
2025-06-06 13:51:57,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:51:57,638 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 13:51:57,638 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
>>> user mstachow@uwaterloo.ca registered (id=f2acd47d-fce7-4267-969b-2ebaaf4d2695)
2025-06-06 13:51:57,639 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51773 - "POST /auth/register HTTP/1.1" 201 Created
2025-06-06 13:52:06,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:52:06,200 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:52:06,200 INFO sqlalchemy.engine.Engine [cached since 8.632s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 13:52:06,273 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51775 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51775 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 13:55:29,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:55:29,146 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:55:29,146 INFO sqlalchemy.engine.Engine [cached since 211.6s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 13:55:29,224 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51784 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51784 - "GET /whoami HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2785460]
INFO:     Started server process [2805710]
INFO:     Waiting for application startup.
2025-06-06 13:58:49,207 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 13:58:49,207 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:58:49,208 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 13:58:49,208 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:58:49,208 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 13:58:49,208 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:58:49,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:58:49,209 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 13:58:49,209 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 13:58:49,211 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 13:58:59,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:58:59,529 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:58:59,529 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ('mstachow@uwaterloo.ca',)
2025-06-06 13:58:59,593 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51793 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51793 - "GET /whoami HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 177, in _authenticate
    user = await strategy.read_token(token, user_manager)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/strategy/jwt.py", line 60, in read_token
    parsed_id = user_manager.parse_id(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 62, in parse_id
    raise NotImplementedError()  # pragma: no cover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NotImplementedError
INFO:     100.100.14.61:51794 - "GET / HTTP/1.1" 200 OK
INFO:     100.100.14.61:51794 - "GET /whoami HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 177, in _authenticate
    user = await strategy.read_token(token, user_manager)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/strategy/jwt.py", line 60, in read_token
    parsed_id = user_manager.parse_id(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 62, in parse_id
    raise NotImplementedError()  # pragma: no cover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NotImplementedError
2025-06-06 13:59:03,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 13:59:03,989 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 13:59:03,989 INFO sqlalchemy.engine.Engine [cached since 4.461s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 13:59:04,057 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51795 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51795 - "GET /whoami HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 177, in _authenticate
    user = await strategy.read_token(token, user_manager)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/strategy/jwt.py", line 60, in read_token
    parsed_id = user_manager.parse_id(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 62, in parse_id
    raise NotImplementedError()  # pragma: no cover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NotImplementedError
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2805710]
INFO:     Started server process [2827182]
INFO:     Waiting for application startup.
2025-06-06 14:06:19,935 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:06:19,935 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:19,936 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:06:19,936 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:19,936 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:06:19,936 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:19,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:06:19,937 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:06:19,937 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:19,939 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2827182]
Process SpawnProcess-18:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 38, in <module>
    class UserManager(UUIDIDMixin, BaseUserManager[User, uuid.UUID]):     #  add it FIRST
                                                   ^^^^
NameError: name 'User' is not defined
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Started server process [2828744]
INFO:     Waiting for application startup.
2025-06-06 14:06:50,259 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:06:50,259 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:50,260 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:06:50,260 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:50,260 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:06:50,260 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:50,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:06:50,261 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:06:50,261 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:06:50,263 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:06:54,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:06:54,827 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:06:54,827 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:06:54,888 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51828 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51828 - "GET /whoami HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 177, in _authenticate
    user = await strategy.read_token(token, user_manager)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/strategy/jwt.py", line 60, in read_token
    parsed_id = user_manager.parse_id(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 62, in parse_id
    raise NotImplementedError()  # pragma: no cover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NotImplementedError
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2828744]
Process SpawnProcess-20:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 991, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1129, in get_code
  File "<frozen importlib._bootstrap_external>", line 1059, in source_to_code
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 49
    return uuid.UUID(value)
    ^^^^^^
IndentationError: expected an indented block after function definition on line 48
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Started server process [2831931]
INFO:     Waiting for application startup.
2025-06-06 14:07:56,223 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:07:56,224 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:07:56,224 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:07:56,224 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:07:56,225 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:07:56,225 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:07:56,226 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:07:56,226 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:07:56,226 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:07:56,228 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:08:02,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:08:02,475 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:08:02,475 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:08:02,547 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51831 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
INFO:     100.100.14.61:51831 - "GET /whoami HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 177, in _authenticate
    user = await strategy.read_token(token, user_manager)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/strategy/jwt.py", line 60, in read_token
    parsed_id = user_manager.parse_id(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 62, in parse_id
    raise NotImplementedError()  # pragma: no cover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NotImplementedError
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2831931]
INFO:     Started server process [2839948]
INFO:     Waiting for application startup.
2025-06-06 14:10:43,888 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:10:43,888 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:10:43,889 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:10:43,889 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:10:43,889 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:10:43,889 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:10:43,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:10:43,890 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:10:43,890 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:10:43,892 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:10:48,695 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:10:48,706 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:10:48,706 INFO sqlalchemy.engine.Engine [generated in 0.00055s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:10:48,782 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51891 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:10:48,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:10:48,809 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:10:48,809 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:10:48,810 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51891 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:10:52,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:10:52,698 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:10:52,698 INFO sqlalchemy.engine.Engine [cached since 3.993s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:10:52,760 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51891 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:10:52,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:10:52,779 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:10:52,779 INFO sqlalchemy.engine.Engine [cached since 3.971s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:10:52,780 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51891 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2839948]
INFO:     Started server process [2842578]
INFO:     Waiting for application startup.
2025-06-06 14:11:37,065 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:11:37,065 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:37,066 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:11:37,066 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:37,067 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:11:37,067 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:37,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:37,067 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:11:37,067 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:37,070 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:11:39,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:39,225 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:11:39,225 INFO sqlalchemy.engine.Engine [generated in 0.00038s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:11:39,289 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51898 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:11:39,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:39,315 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:11:39,315 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:11:39,316 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51898 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2842578]
INFO:     Started server process [2843429]
INFO:     Waiting for application startup.
2025-06-06 14:11:52,878 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:11:52,878 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:52,879 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:11:52,879 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:52,879 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:11:52,879 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:52,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:52,880 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:11:52,880 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:11:52,882 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:11:57,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:57,323 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:11:57,323 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:11:57,382 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51900 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:11:57,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:11:57,409 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:11:57,409 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x73909ff2f200>
2025-06-06 14:11:57,410 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51900 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2843429]
INFO:     Started server process [2852398]
INFO:     Waiting for application startup.
2025-06-06 14:15:01,632 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:15:01,632 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:01,633 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:15:01,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:01,633 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:15:01,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:01,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:01,634 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:15:01,634 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:01,637 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:15:07,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:07,311 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:15:07,311 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:15:07,378 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51909 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:15:07,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:07,403 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:15:07,403 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x741062433290>
2025-06-06 14:15:07,404 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51909 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2852398]
INFO:     Started server process [2853799]
INFO:     Waiting for application startup.
2025-06-06 14:15:30,515 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:15:30,516 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:30,516 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:15:30,516 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:30,517 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:15:30,517 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:30,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:30,518 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:15:30,518 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:15:30,519 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:15:33,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:33,879 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:15:33,879 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:15:33,942 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51911 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:15:33,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:15:33,969 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:15:33,969 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecb5e3500>
mstachow@uwaterloo.ca
2025-06-06 14:15:33,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51911 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:16:15,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:16:15,918 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:16:15,918 INFO sqlalchemy.engine.Engine [cached since 42.04s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:16:15,974 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51915 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:16:15,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:16:15,996 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:16:15,996 INFO sqlalchemy.engine.Engine [cached since 42.03s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecb5e3e30>
mstachow@uwaterloo.ca
2025-06-06 14:16:15,997 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51915 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:16:21,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:16:21,150 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:16:21,150 INFO sqlalchemy.engine.Engine [cached since 47.27s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:16:21,253 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51916 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:16:21,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:16:21,280 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:16:21,280 INFO sqlalchemy.engine.Engine [cached since 47.31s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecab24230>
mstachow@uwaterloo.ca
2025-06-06 14:16:21,281 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51916 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:17:20,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:20,079 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:17:20,079 INFO sqlalchemy.engine.Engine [cached since 106.2s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:17:20,162 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51922 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:17:20,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:20,190 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:17:20,190 INFO sqlalchemy.engine.Engine [cached since 106.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecab24560>
mstachow@uwaterloo.ca
2025-06-06 14:17:20,191 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51922 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:17:31,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:31,302 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:17:31,302 INFO sqlalchemy.engine.Engine [cached since 117.4s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:17:31,384 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51928 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:17:31,411 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:31,411 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:17:31,411 INFO sqlalchemy.engine.Engine [cached since 117.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecab246b0>
mstachow@uwaterloo.ca
2025-06-06 14:17:31,412 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51928 - "GET /whoami HTTP/1.1" 200 OK
INFO:     100.100.14.61:51928 - "GET / HTTP/1.1" 200 OK
2025-06-06 14:17:34,443 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:34,444 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:17:34,444 INFO sqlalchemy.engine.Engine [cached since 120.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
<main_dev.User object at 0x72eecab64b30>
mstachow@uwaterloo.ca
2025-06-06 14:17:34,447 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51928 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:17:55,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:17:55,228 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:17:55,229 INFO sqlalchemy.engine.Engine [cached since 141.4s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 14:17:55,311 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:51940 - "POST /auth/jwt/login HTTP/1.1" 400 Bad Request
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2853799]
INFO:     Started server process [2881939]
INFO:     Waiting for application startup.
2025-06-06 14:25:15,881 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:25:15,881 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:15,882 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:25:15,882 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:15,882 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:25:15,882 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:15,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:25:15,884 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:25:15,884 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:15,886 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2881939]
INFO:     Started server process [2883164]
INFO:     Waiting for application startup.
2025-06-06 14:25:40,276 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:25:40,276 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:40,277 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:25:40,277 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:40,277 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:25:40,277 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:40,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:25:40,279 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:25:40,279 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:25:40,281 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2883164]
INFO:     Started server process [2890252]
INFO:     Waiting for application startup.
2025-06-06 14:28:09,855 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:28:09,855 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:28:09,856 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:28:09,856 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:28:09,856 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:28:09,856 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:28:09,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:28:09,858 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:28:09,858 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:28:09,859 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2890252]
INFO:     Started server process [2901992]
INFO:     Waiting for application startup.
2025-06-06 14:32:17,624 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:32:17,624 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:32:17,625 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:32:17,625 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:32:17,626 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:32:17,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:32:17,626 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:32:17,627 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:32:17,627 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:32:17,629 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:52014 - "GET / HTTP/1.1" 200 OK
2025-06-06 14:32:28,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:32:28,318 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:32:28,318 INFO sqlalchemy.engine.Engine [generated in 0.00061s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:32:29,353 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52014 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.100.14.61:52015 - "GET /auth HTTP/1.1" 200 OK
2025-06-06 14:32:38,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:32:38,231 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:32:38,232 INFO sqlalchemy.engine.Engine [cached since 9.914s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:32:38,235 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52015 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:32:46,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:32:46,146 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:32:46,146 INFO sqlalchemy.engine.Engine [cached since 17.83s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:32:46,831 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52016 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2901992]
INFO:     Started server process [2905115]
INFO:     Waiting for application startup.
2025-06-06 14:33:23,841 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:33:23,842 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:33:23,842 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:33:23,842 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:33:23,843 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:33:23,843 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:33:23,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:33:23,844 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:33:23,844 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:33:23,845 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 14:33:27,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:33:27,286 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:33:27,286 INFO sqlalchemy.engine.Engine [generated in 0.00060s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
mstachow@uwaterloo.ca
2025-06-06 14:33:28,367 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52019 - "POST /chat HTTP/1.1" 200 OK
2025-06-06 14:33:57,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:33:57,100 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:33:57,100 INFO sqlalchemy.engine.Engine [cached since 29.81s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:33:57,103 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52022 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:49:50,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:49:50,511 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:49:50,511 INFO sqlalchemy.engine.Engine [cached since 983.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
mstachow@uwaterloo.ca
2025-06-06 14:49:51,697 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52087 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.100.14.61:52088 - "GET /chat HTTP/1.1" 405 Method Not Allowed
2025-06-06 14:50:41,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:50:41,742 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:50:41,742 INFO sqlalchemy.engine.Engine [cached since 1034s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
mstachow@uwaterloo.ca
2025-06-06 14:50:42,901 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52088 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.100.14.61:52088 - "GET /auth HTTP/1.1" 200 OK
2025-06-06 14:50:47,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:50:47,507 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:50:47,508 INFO sqlalchemy.engine.Engine [cached since 1040s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:50:47,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52088 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:50:49,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:50:49,029 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:50:49,031 INFO sqlalchemy.engine.Engine [cached since 1042s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:50:49,034 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52088 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2905115]
INFO:     Started server process [2956278]
INFO:     Waiting for application startup.
2025-06-06 14:51:20,218 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:51:20,218 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:51:20,219 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:51:20,219 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:51:20,219 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:51:20,219 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:51:20,220 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:51:20,220 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:51:20,220 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:51:20,222 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:52091 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52093 - "POST /auth/jwt/logout HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52093 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.100.14.61:52093 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 14:51:42,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:51:42,508 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:51:42,508 INFO sqlalchemy.engine.Engine [generated in 0.00058s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:51:42,583 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52093 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:51:42,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:51:42,609 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:51:42,609 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:51:42,610 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52093 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:51:47,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:51:47,250 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:51:47,250 INFO sqlalchemy.engine.Engine [cached since 4.641s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
mstachow@uwaterloo.ca
2025-06-06 14:51:47,998 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52093 - "POST /chat HTTP/1.1" 200 OK
2025-06-06 14:51:58,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:51:58,867 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:51:58,868 INFO sqlalchemy.engine.Engine [cached since 16.26s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:51:58,870 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52096 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:52:01,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:52:01,445 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:52:01,445 INFO sqlalchemy.engine.Engine [cached since 18.84s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:52:01,448 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:52096 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.100.14.61:52096 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2956278]
INFO:     Started server process [2963802]
INFO:     Waiting for application startup.
2025-06-06 14:53:56,630 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 14:53:56,630 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:53:56,631 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 14:53:56,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:53:56,631 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 14:53:56,631 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:53:56,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:53:56,632 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 14:53:56,633 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 14:53:56,635 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:52104 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52104 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52104 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52104 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52104 - "POST /auth/jwt/logout HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52108 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52121 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52124 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52177 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52177 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52177 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52177 - "POST /auth/jwt/logout HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:52177 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.100.14.61:52177 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 14:59:11,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:59:11,563 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 14:59:11,563 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('mstachow@uwaterloo.ca',)
2025-06-06 14:59:11,636 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:50376 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 14:59:11,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:59:11,665 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:59:11,665 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:59:11,666 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:50376 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:59:16,107 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:59:16,108 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:59:16,108 INFO sqlalchemy.engine.Engine [cached since 4.443s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
mstachow@uwaterloo.ca
2025-06-06 14:59:17,487 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:50376 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.100.14.61:50382 - "GET /auth HTTP/1.1" 200 OK
2025-06-06 14:59:22,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:59:22,949 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:59:22,949 INFO sqlalchemy.engine.Engine [cached since 11.28s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:59:22,950 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:50382 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 14:59:24,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 14:59:24,838 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 14:59:24,838 INFO sqlalchemy.engine.Engine [cached since 13.17s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 14:59:24,841 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:50382 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.100.14.61:50382 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:60632 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:60636 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2963802]
INFO:     Started server process [3188246]
INFO:     Waiting for application startup.
2025-06-06 16:12:43,061 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:12:43,061 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:12:43,062 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:12:43,062 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:12:43,062 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:12:43,062 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:12:43,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:12:43,063 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:12:43,063 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:12:43,065 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60653 - "POST /chat HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 89, in http_exception_handler
    raise exc  # Let FastAPI handle other cases
    ^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 89, in http_exception_handler
    raise exc  # Let FastAPI handle other cases
    ^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 192, in _authenticate
    raise HTTPException(status_code=status_code)
fastapi.exceptions.HTTPException: 401: Unauthorized
INFO:     100.100.14.61:60654 - "POST /chat HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 89, in http_exception_handler
    raise exc  # Let FastAPI handle other cases
    ^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 89, in http_exception_handler
    raise exc  # Let FastAPI handle other cases
    ^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<makefun-gen-0>", line 2, in current_user_dependency
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 143, in current_user_dependency
    user, _ = await self._authenticate(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/authentication/authenticator.py", line 192, in _authenticate
    raise HTTPException(status_code=status_code)
fastapi.exceptions.HTTPException: 401: Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3188246]
INFO:     Started server process [3191915]
INFO:     Waiting for application startup.
2025-06-06 16:14:00,489 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:14:00,489 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:00,490 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:14:00,490 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:00,490 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:14:00,490 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:00,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:14:00,492 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:14:00,492 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:00,493 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60658 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3191915]
INFO:     Started server process [3193849]
INFO:     Waiting for application startup.
2025-06-06 16:14:40,747 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:14:40,747 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:40,748 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:14:40,748 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:40,749 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:14:40,749 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:40,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:14:40,750 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:14:40,750 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:40,751 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3193849]
INFO:     Started server process [3194387]
INFO:     Waiting for application startup.
2025-06-06 16:14:51,699 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:14:51,699 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:51,700 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:14:51,700 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:51,700 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:14:51,700 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:51,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:14:51,701 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:14:51,701 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:14:51,703 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60682 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3194387]
INFO:     Started server process [3195408]
INFO:     Waiting for application startup.
2025-06-06 16:15:11,306 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:15:11,306 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:11,307 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:15:11,307 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:11,307 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:15:11,307 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:11,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:15:11,308 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:15:11,308 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:11,309 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3195408]
INFO:     Started server process [3195741]
INFO:     Waiting for application startup.
2025-06-06 16:15:18,115 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:15:18,115 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:18,116 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:15:18,116 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:18,116 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:15:18,117 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:18,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:15:18,117 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:15:18,117 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:15:18,119 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60700 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3195741]
INFO:     Started server process [3198120]
INFO:     Waiting for application startup.
2025-06-06 16:16:07,317 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:16:07,317 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:16:07,318 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:16:07,318 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:16:07,319 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:16:07,319 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:16:07,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:16:07,320 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:16:07,320 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:16:07,322 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60726 - "POST /chat HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3198120]
INFO:     Started server process [3206958]
INFO:     Waiting for application startup.
2025-06-06 16:19:12,962 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:19:12,962 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:19:12,962 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:19:12,963 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:19:12,963 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:19:12,963 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:19:12,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:19:12,964 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:19:12,964 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:19:12,965 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60820 - "POST /chat HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:60871 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:60871 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     100.100.14.61:60871 - "GET / HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3206958]
INFO:     Started server process [3214680]
INFO:     Waiting for application startup.
2025-06-06 16:21:57,171 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:21:57,171 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:21:57,171 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:21:57,171 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:21:57,172 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:21:57,172 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:21:57,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:21:57,173 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:21:57,173 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:21:57,175 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.100.14.61:60894 - "GET / HTTP/1.1" 307 Temporary Redirect
INFO:     100.100.14.61:60894 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.100.14.61:60894 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:60894 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-06 16:22:02,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:02,596 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 16:22:02,596 INFO sqlalchemy.engine.Engine [generated in 0.00056s] ('mstachow@uwaterloo.ca',)
2025-06-06 16:22:02,688 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60894 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 16:22:02,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:02,715 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:22:02,715 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:22:02,716 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60894 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:22:03,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:03,580 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:22:03,581 INFO sqlalchemy.engine.Engine [cached since 0.8657s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:22:03,582 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60894 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.100.14.61:60894 - "GET / HTTP/1.1" 307 Temporary Redirect
INFO:     100.100.14.61:60894 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 16:22:10,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:11,000 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 16:22:11,000 INFO sqlalchemy.engine.Engine [cached since 8.404s ago] ('mstachow@uwaterloo.ca',)
2025-06-06 16:22:11,090 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60894 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 16:22:11,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:11,118 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:22:11,118 INFO sqlalchemy.engine.Engine [cached since 8.403s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:22:11,119 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60894 - "GET /whoami HTTP/1.1" 200 OK
INFO:     100.100.14.61:60894 - "GET /chat HTTP/1.1" 405 Method Not Allowed
INFO:     100.100.14.61:60906 - "GET / HTTP/1.1" 307 Temporary Redirect
2025-06-06 16:22:19,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:19,702 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:22:19,702 INFO sqlalchemy.engine.Engine [cached since 16.99s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:22:19,705 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60906 - "GET /whoami HTTP/1.1" 200 OK
INFO:     100.100.14.61:60910 - "GET / HTTP/1.1" 307 Temporary Redirect
2025-06-06 16:22:27,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:22:27,777 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:22:27,777 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:22:27,778 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60910 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3214680]
INFO:     Started server process [3218801]
INFO:     Waiting for application startup.
2025-06-06 16:23:21,079 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:23:21,079 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:23:21,079 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:23:21,080 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:23:21,080 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:23:21,080 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:23:21,081 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:23:21,081 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:23:21,081 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:23:21,082 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 16:23:25,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:23:25,467 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:23:25,467 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:23:25,469 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60938 - "GET / HTTP/1.1" 307 Temporary Redirect
2025-06-06 16:23:25,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:23:25,628 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:23:25,628 INFO sqlalchemy.engine.Engine [cached since 0.1606s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:23:25,631 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60938 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:23:31,424 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:23:31,425 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:23:31,425 INFO sqlalchemy.engine.Engine [cached since 5.958s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:23:31,428 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60942 - "GET / HTTP/1.1" 307 Temporary Redirect
2025-06-06 16:23:31,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:23:31,585 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:23:31,585 INFO sqlalchemy.engine.Engine [cached since 6.118s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:23:31,588 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:60942 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3218801]
INFO:     Started server process [3231373]
INFO:     Waiting for application startup.
2025-06-06 16:27:45,132 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-06 16:27:45,132 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:27:45,133 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-06 16:27:45,133 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:27:45,133 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-06 16:27:45,133 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:27:45,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:27:45,134 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-06 16:27:45,134 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-06 16:27:45,136 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-06 16:27:46,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:27:46,816 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:27:46,816 INFO sqlalchemy.engine.Engine [generated in 0.00068s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:27:46,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61071 - "GET / HTTP/1.1" 200 OK
2025-06-06 16:27:46,946 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:27:46,947 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:27:46,947 INFO sqlalchemy.engine.Engine [cached since 0.1314s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:27:46,950 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61071 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:28:02,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:02,294 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:28:02,294 INFO sqlalchemy.engine.Engine [cached since 15.48s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'hi?'}]
2025-06-06 16:28:03,061 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61079 - "POST /chat HTTP/1.1" 200 OK
2025-06-06 16:28:15,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:15,537 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:28:15,537 INFO sqlalchemy.engine.Engine [cached since 28.72s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:28:15,540 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:28:17,021 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:17,021 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:28:17,021 INFO sqlalchemy.engine.Engine [cached since 30.21s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:28:17,022 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61086 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-06 16:28:29,926 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:29,927 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-06 16:28:29,927 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('mstachow@uwaterloo.ca',)
2025-06-06 16:28:29,999 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61086 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-06 16:28:30,020 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:30,020 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:28:30,020 INFO sqlalchemy.engine.Engine [cached since 43.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:28:30,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:28:34,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:28:34,058 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:28:34,058 INFO sqlalchemy.engine.Engine [cached since 47.24s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:28:34,060 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61086 - "GET /whoami HTTP/1.1" 200 OK
2025-06-06 16:30:57,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-06 16:30:57,018 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-06 16:30:57,018 INFO sqlalchemy.engine.Engine [cached since 190.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-06 16:30:57,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.100.14.61:61113 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3231373]
INFO:     Started server process [1560731]
INFO:     Waiting for application startup.
2025-06-07 07:13:24,670 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:13:24,670 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:13:24,670 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:13:24,671 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:13:24,671 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:13:24,671 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:13:24,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:13:24,672 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:13:24,672 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:13:24,676 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1560731]
INFO:     Started server process [1562716]
INFO:     Waiting for application startup.
2025-06-07 07:14:05,935 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:14:05,935 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:05,936 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:14:05,936 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:05,936 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:14:05,936 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:05,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:14:05,937 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:14:05,937 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:05,939 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1562716]
INFO:     Started server process [1563861]
INFO:     Waiting for application startup.
2025-06-07 07:14:30,518 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:14:30,519 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:30,519 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:14:30,519 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:30,520 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:14:30,520 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:30,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:14:30,521 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:14:30,521 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:14:30,523 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.92.101.90:50474 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50474 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     100.92.101.90:50475 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50476 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50478 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50478 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     100.92.101.90:50480 - "GET / HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50481 - "GET / HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1563861]
INFO:     Started server process [1571084]
INFO:     Waiting for application startup.
2025-06-07 07:16:59,763 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:16:59,763 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:16:59,764 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:16:59,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:16:59,764 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:16:59,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:16:59,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:16:59,765 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:16:59,765 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:16:59,767 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.92.101.90:50501 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:50500 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:50500 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-07 07:17:31,843 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:31,856 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-07 07:17:31,857 INFO sqlalchemy.engine.Engine [generated in 0.00059s] ('mstachow@uwaterloo.ca',)
2025-06-07 07:17:31,929 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50511 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-07 07:17:31,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:32,001 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:17:32,001 INFO sqlalchemy.engine.Engine [generated in 0.00052s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:17:32,004 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50511 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:17:32,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:32,079 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:17:32,079 INFO sqlalchemy.engine.Engine [cached since 0.07809s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:17:32,081 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50511 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:17:32,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:32,597 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:17:32,598 INFO sqlalchemy.engine.Engine [cached since 0.5969s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:17:32,601 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50511 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:17:38,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:38,353 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:17:38,353 INFO sqlalchemy.engine.Engine [cached since 6.352s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}]
2025-06-07 07:17:38,854 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50517 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.92.101.90:50540 - "GET /auth HTTP/1.1" 200 OK
2025-06-07 07:17:57,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:17:57,123 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:17:57,123 INFO sqlalchemy.engine.Engine [cached since 25.12s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:17:57,124 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50540 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:18:01,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:18:01,183 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:18:01,183 INFO sqlalchemy.engine.Engine [cached since 29.18s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:18:01,184 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50540 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.92.101.90:50541 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50541 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50541 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50593 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:50593 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50593 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-07 07:25:11,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:25:11,037 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-07 07:25:11,038 INFO sqlalchemy.engine.Engine [cached since 459.2s ago] ('mstachow@uwaterloo.ca',)
2025-06-07 07:25:11,123 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50593 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-07 07:25:11,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:25:11,150 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:25:11,150 INFO sqlalchemy.engine.Engine [cached since 459.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:25:11,151 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50593 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:25:11,481 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:25:11,481 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:25:11,481 INFO sqlalchemy.engine.Engine [cached since 459.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:25:11,483 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50593 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:26:12,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:26:12,085 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:26:12,085 INFO sqlalchemy.engine.Engine [cached since 520.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:26:12,086 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50624 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:26:12,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:26:12,564 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:26:12,564 INFO sqlalchemy.engine.Engine [cached since 520.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:26:12,567 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50624 - "GET /whoami HTTP/1.1" 200 OK
INFO:     100.92.101.90:50624 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-07 07:26:14,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:26:14,338 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:26:14,338 INFO sqlalchemy.engine.Engine [cached since 522.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:26:14,341 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50624 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.92.101.90:50624 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50624 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50625 - "GET /chat_redirect HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1571084]
INFO:     Started server process [1601432]
INFO:     Waiting for application startup.
2025-06-07 07:27:35,640 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:27:35,641 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:27:35,641 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:27:35,641 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:27:35,642 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:27:35,642 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:27:35,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:27:35,643 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:27:35,643 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:27:35,644 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1601432]
INFO:     Started server process [1609194]
INFO:     Waiting for application startup.
2025-06-07 07:30:18,488 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:30:18,488 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:30:18,489 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:30:18,489 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:30:18,490 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:30:18,490 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:30:18,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:18,491 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:30:18,491 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:30:18,492 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 07:30:37,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:37,610 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-07 07:30:37,610 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ('mstachow@uwaterloo.ca',)
2025-06-07 07:30:37,684 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-07 07:30:37,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:37,731 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:37,731 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:30:37,733 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:30:37,754 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:37,754 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:37,754 INFO sqlalchemy.engine.Engine [cached since 0.02338s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:30:37,768 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:30:37,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:37,922 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:37,922 INFO sqlalchemy.engine.Engine [cached since 0.1912s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:30:37,925 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:30:40,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:40,948 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:40,948 INFO sqlalchemy.engine.Engine [cached since 3.217s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}]
2025-06-07 07:30:41,630 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:30:43,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:43,781 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:43,781 INFO sqlalchemy.engine.Engine [cached since 6.05s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}]
2025-06-07 07:30:44,547 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:30:49,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:49,404 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:49,404 INFO sqlalchemy.engine.Engine [cached since 11.67s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Did your toddler sign for milk on their own, or did you prompt them to use the sign?"}, {'role': 'user', 'content': 'on her own'}]
2025-06-07 07:30:50,363 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:30:54,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:30:54,601 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:30:54,601 INFO sqlalchemy.engine.Engine [cached since 16.87s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Did your toddler sign for milk on their own, or did you prompt them to use the sign?"}, {'role': 'user', 'content': 'on her own'}, {'role': 'assistant', 'content': "That's so exciting to hear! Can you tell me what happened right before she signed for milk? For example, was she playing, eating, waking up from a nap, or something else?"}, {'role': 'user', 'content': 'just playing'}]
2025-06-07 07:30:55,888 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50754 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:31:06,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:06,488 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:06,488 INFO sqlalchemy.engine.Engine [cached since 28.76s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Did your toddler sign for milk on their own, or did you prompt them to use the sign?"}, {'role': 'user', 'content': 'on her own'}, {'role': 'assistant', 'content': "That's so exciting to hear! Can you tell me what happened right before she signed for milk? For example, was she playing, eating, waking up from a nap, or something else?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Great, thank you! After she signed for milk, how did you respond? Did you give her milk right away, acknowledge her sign, or do something else?'}, {'role': 'user', 'content': 'I acknowledge it, then went to get her milk'}]
2025-06-07 07:31:08,755 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50755 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:31:12,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:12,897 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:12,899 INFO sqlalchemy.engine.Engine [cached since 35.17s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Did your toddler sign for milk on their own, or did you prompt them to use the sign?"}, {'role': 'user', 'content': 'on her own'}, {'role': 'assistant', 'content': "That's so exciting to hear! Can you tell me what happened right before she signed for milk? For example, was she playing, eating, waking up from a nap, or something else?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Great, thank you! After she signed for milk, how did you respond? Did you give her milk right away, acknowledge her sign, or do something else?'}, {'role': 'user', 'content': 'I acknowledge it, then went to get her milk'}, {'role': 'assistant', 'content': 'Thank you for sharing that. One more question: how did your toddler react when you respondeddid she seem excited, calm, or show any other emotion when she saw you understood her sign?'}, {'role': 'user', 'content': 'happy'}]
2025-06-07 07:31:13,899 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50755 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:31:15,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:15,816 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:15,816 INFO sqlalchemy.engine.Engine [cached since 38.09s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': 'Hello! To get us started, can you tell me what your toddler did today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Did your toddler sign for milk on their own, or did you prompt them to use the sign?"}, {'role': 'user', 'content': 'on her own'}, {'role': 'assistant', 'content': "That's so exciting to hear! Can you tell me what happened right before she signed for milk? For example, was she playing, eating, waking up from a nap, or something else?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Great, thank you! After she signed for milk, how did you respond? Did you give her milk right away, acknowledge her sign, or do something else?'}, {'role': 'user', 'content': 'I acknowledge it, then went to get her milk'}, {'role': 'assistant', 'content': 'Thank you for sharing that. One more question: how did your toddler react when you respondeddid she seem excited, calm, or show any other emotion when she saw you understood her sign?'}, {'role': 'user', 'content': 'happy'}, {'role': 'assistant', 'content': 'Would you like a summary of this learning episode, or would you prefer to keep exploring together?'}, {'role': 'user', 'content': 'summary'}]
Error: name 'text' is not defined
2025-06-07 07:31:38,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50755 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1609194]
INFO:     Started server process [1613530]
INFO:     Waiting for application startup.
2025-06-07 07:31:49,916 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:31:49,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:31:49,916 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:31:49,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:31:49,917 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:31:49,917 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:31:49,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:49,918 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:31:49,918 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:31:49,919 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 07:31:51,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:51,228 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:51,229 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:31:51,235 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50763 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:31:51,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:51,426 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:51,426 INFO sqlalchemy.engine.Engine [cached since 0.1978s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:31:51,427 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50763 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:31:54,763 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:54,764 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:54,764 INFO sqlalchemy.engine.Engine [cached since 3.536s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}]
2025-06-07 07:31:55,903 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50763 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:31:58,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:31:58,661 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:31:58,661 INFO sqlalchemy.engine.Engine [cached since 7.433s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}]
2025-06-07 07:31:59,578 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50763 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:32:05,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:32:05,949 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:32:05,949 INFO sqlalchemy.engine.Engine [cached since 14.72s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Signing is a great way for toddlers to communicate before they can speak clearly. Can you tell me what was happening when your child signed for milk? For example, were you in the kitchen, playing together, or doing something else?"}, {'role': 'user', 'content': 'she was just playing'}]
2025-06-07 07:32:07,325 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50764 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:32:15,087 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:32:15,088 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:32:15,088 INFO sqlalchemy.engine.Engine [cached since 23.86s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Signing is a great way for toddlers to communicate before they can speak clearly. Can you tell me what was happening when your child signed for milk? For example, were you in the kitchen, playing together, or doing something else?"}, {'role': 'user', 'content': 'she was just playing'}, {'role': 'assistant', 'content': 'Thank you! Was it the first time shes used the milk sign while playing, or has she used this sign in other situations before?'}, {'role': 'user', 'content': "she's been using it more and more often"}]
2025-06-07 07:32:16,675 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50767 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:32:26,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:32:26,599 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:32:26,599 INFO sqlalchemy.engine.Engine [cached since 35.37s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Signing is a great way for toddlers to communicate before they can speak clearly. Can you tell me what was happening when your child signed for milk? For example, were you in the kitchen, playing together, or doing something else?"}, {'role': 'user', 'content': 'she was just playing'}, {'role': 'assistant', 'content': 'Thank you! Was it the first time shes used the milk sign while playing, or has she used this sign in other situations before?'}, {'role': 'user', 'content': "she's been using it more and more often"}, {'role': 'assistant', 'content': 'Thats great to hearshes building confidence with her communication skills! When she signed for milk while playing, how did you respond? Did you talk with her, get her milk right away, or do something else?'}, {'role': 'user', 'content': 'I acknowledge the sign then got her milk'}]
2025-06-07 07:32:27,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50768 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:32:34,343 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:32:34,344 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:32:34,346 INFO sqlalchemy.engine.Engine [cached since 43.12s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Signing is a great way for toddlers to communicate before they can speak clearly. Can you tell me what was happening when your child signed for milk? For example, were you in the kitchen, playing together, or doing something else?"}, {'role': 'user', 'content': 'she was just playing'}, {'role': 'assistant', 'content': 'Thank you! Was it the first time shes used the milk sign while playing, or has she used this sign in other situations before?'}, {'role': 'user', 'content': "she's been using it more and more often"}, {'role': 'assistant', 'content': 'Thats great to hearshes building confidence with her communication skills! When she signed for milk while playing, how did you respond? Did you talk with her, get her milk right away, or do something else?'}, {'role': 'user', 'content': 'I acknowledge the sign then got her milk'}, {'role': 'assistant', 'content': 'That sounds like a thoughtful response. When you acknowledged her sign, did you say the word milk out loud, use the sign yourself, or both?'}, {'role': 'user', 'content': 'both'}]
2025-06-07 07:32:35,012 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50769 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:32:38,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:32:38,548 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:32:38,548 INFO sqlalchemy.engine.Engine [cached since 47.32s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'Hi'}, {'role': 'assistant', 'content': "Hello! I'd love to hear more about your childs day. What did your toddler do today?"}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Signing is a great way for toddlers to communicate before they can speak clearly. Can you tell me what was happening when your child signed for milk? For example, were you in the kitchen, playing together, or doing something else?"}, {'role': 'user', 'content': 'she was just playing'}, {'role': 'assistant', 'content': 'Thank you! Was it the first time shes used the milk sign while playing, or has she used this sign in other situations before?'}, {'role': 'user', 'content': "she's been using it more and more often"}, {'role': 'assistant', 'content': 'Thats great to hearshes building confidence with her communication skills! When she signed for milk while playing, how did you respond? Did you talk with her, get her milk right away, or do something else?'}, {'role': 'user', 'content': 'I acknowledge the sign then got her milk'}, {'role': 'assistant', 'content': 'That sounds like a thoughtful response. When you acknowledged her sign, did you say the word milk out loud, use the sign yourself, or both?'}, {'role': 'user', 'content': 'both'}, {'role': 'assistant', 'content': 'Would you like a summary of your childs learning episode, or would you prefer to keep exploring?'}, {'role': 'user', 'content': 'summary'}]
2025-06-07 07:32:57,332 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50769 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1613530]
INFO:     Started server process [1621607]
INFO:     Waiting for application startup.
2025-06-07 07:34:39,353 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:34:39,353 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:34:39,354 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:34:39,354 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:34:39,354 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:34:39,354 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:34:39,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:39,355 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:34:39,355 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:34:39,357 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 07:34:39,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:39,368 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:39,368 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:34:39,372 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50772 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:34:39,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:39,597 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:39,597 INFO sqlalchemy.engine.Engine [cached since 0.2293s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:34:39,598 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50772 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:34:44,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:44,654 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:44,654 INFO sqlalchemy.engine.Engine [cached since 5.286s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'signed for milk'}]
2025-06-07 07:34:45,927 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:34:48,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:48,694 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:48,694 INFO sqlalchemy.engine.Engine [cached since 9.327s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! What a great way to communicate. Can you tell me a bit more about what was happening when your child signed for milk? For example, were you in the kitchen, was it mealtime, or did it happen during play?"}, {'role': 'user', 'content': 'playing'}]
2025-06-07 07:34:49,494 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:34:52,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:52,442 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:52,442 INFO sqlalchemy.engine.Engine [cached since 13.07s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! What a great way to communicate. Can you tell me a bit more about what was happening when your child signed for milk? For example, were you in the kitchen, was it mealtime, or did it happen during play?"}, {'role': 'user', 'content': 'playing'}, {'role': 'assistant', 'content': 'Thank you! Was this the first time your child signed for milk while playing, or have they done it before? And how did you respond when they signed?'}, {'role': 'user', 'content': 'before'}]
2025-06-07 07:34:53,442 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:34:56,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:34:56,204 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:34:56,204 INFO sqlalchemy.engine.Engine [cached since 16.84s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! What a great way to communicate. Can you tell me a bit more about what was happening when your child signed for milk? For example, were you in the kitchen, was it mealtime, or did it happen during play?"}, {'role': 'user', 'content': 'playing'}, {'role': 'assistant', 'content': 'Thank you! Was this the first time your child signed for milk while playing, or have they done it before? And how did you respond when they signed?'}, {'role': 'user', 'content': 'before'}, {'role': 'assistant', 'content': "Got itthey've signed for milk before during play. When your child signed for milk today, did they use the sign clearly and intentionally? Did you notice if they were looking at you or trying to get your attention in a specific way?"}, {'role': 'user', 'content': 'intentional'}]
2025-06-07 07:34:59,500 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 07:35:16,043 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:35:16,044 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:35:16,044 INFO sqlalchemy.engine.Engine [cached since 36.68s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! What a great way to communicate. Can you tell me a bit more about what was happening when your child signed for milk? For example, were you in the kitchen, was it mealtime, or did it happen during play?"}, {'role': 'user', 'content': 'playing'}, {'role': 'assistant', 'content': 'Thank you! Was this the first time your child signed for milk while playing, or have they done it before? And how did you respond when they signed?'}, {'role': 'user', 'content': 'before'}, {'role': 'assistant', 'content': "Got itthey've signed for milk before during play. When your child signed for milk today, did they use the sign clearly and intentionally? Did you notice if they were looking at you or trying to get your attention in a specific way?"}, {'role': 'user', 'content': 'intentional'}, {'role': 'assistant', 'content': "Great observation! It's wonderful that they used the sign intentionally. After you saw the sign, did you give them milk right away, or did you ask them something or talk to them about it first? How did your child react to your response? \n\nWould you like a summary of your child's learning, or shall we keep exploring?"}, {'role': 'user', 'content': 'I got it and she was happy. Summary please'}]
## Summary:
Today, your child intentionally used the milk sign during play to communicate with you. This is a great example of early language development and social-emotional growth. At around 18 months, children are learning that they can express their needs and wants in ways beyond crying or fussing. By signing intentionally, your child is showing she understands that her actions have meaning and can get a response from you. This also builds her confidence and encourages more communication. Responding promptly by giving her milk strengthened her trust that her communication is powerful and effective. 

In summary, your child is practicing expressive communication, building social bonds, and gaining confidence in her ability to make her needs understoodall skills that are important for her growing independence and language development.

Would you like an idea for a deepening activity to encourage more of this kind of learning?

Here's some information for you about how this interaction lines up with child development indicators: 
1. **Expressive Communication**: Your child used the milk sign on her own to let you know what she wanted. This shows shes learning to express her needs in ways other than cryingan exciting step in her language development.

2. **Emotion Regulation and Independence**: Instead of getting upset, your child calmly used the sign to ask for milk. By doing this on her own, shes showing growing independence and the ability to manage her feelings.

3. **Understanding Cause and Effect**: She signed for milk because shes learned that this action gets a response. This means shes beginning to understand that her actions can cause things to happen, which is a key cognitive skill.
2025-06-07 07:35:38,046 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50773 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1621607]
INFO:     Started server process [1629697]
INFO:     Waiting for application startup.
2025-06-07 07:37:28,269 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:37:28,270 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:37:28,270 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:37:28,270 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:37:28,271 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:37:28,271 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:37:28,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:37:28,272 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:37:28,272 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:37:28,274 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1629697]
INFO:     Started server process [1632560]
INFO:     Waiting for application startup.
2025-06-07 07:38:27,874 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 07:38:27,874 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:38:27,875 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 07:38:27,875 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:38:27,875 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 07:38:27,875 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:38:27,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:38:27,877 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 07:38:27,877 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 07:38:27,879 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 07:38:58,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:38:58,181 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:38:58,181 INFO sqlalchemy.engine.Engine [generated in 0.00057s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:38:58,185 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50789 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.92.101.90:50789 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:50789 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-07 07:39:02,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:39:02,794 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-07 07:39:02,794 INFO sqlalchemy.engine.Engine [generated in 0.00066s] ('mstachow@uwaterloo.ca',)
2025-06-07 07:39:02,886 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50789 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-07 07:39:02,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:39:02,906 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:39:02,906 INFO sqlalchemy.engine.Engine [cached since 4.726s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:39:02,909 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50789 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:39:02,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:39:02,974 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:39:02,975 INFO sqlalchemy.engine.Engine [cached since 4.794s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:39:02,977 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50789 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:39:03,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:39:03,085 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:39:03,085 INFO sqlalchemy.engine.Engine [cached since 4.905s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:39:03,088 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50789 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 07:40:01,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:40:01,920 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:40:01,920 INFO sqlalchemy.engine.Engine [cached since 63.74s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:40:01,921 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50802 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 07:40:02,005 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 07:40:02,006 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 07:40:02,006 INFO sqlalchemy.engine.Engine [cached since 63.83s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 07:40:02,007 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50802 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1632560]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1724444]
INFO:     Waiting for application startup.
2025-06-07 08:10:42,638 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:10:42,638 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,639 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:10:42,639 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,639 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:10:42,639 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:10:42,641 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:10:42,641 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,643 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:10:42,643 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,645 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:10:42,645 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,646 INFO sqlalchemy.engine.Engine 
CREATE TABLE parent_profiles (
	id CHAR(32) NOT NULL, 
	user_id CHAR(36) NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	preferences TEXT NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-06-07 08:10:42,646 INFO sqlalchemy.engine.Engine [no key 0.00010s] ()
2025-06-07 08:10:42,670 INFO sqlalchemy.engine.Engine 
CREATE TABLE child_profiles (
	id CHAR(32) NOT NULL, 
	parent_id CHAR(32) NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	age INTEGER NOT NULL, 
	preferences TEXT NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(parent_id) REFERENCES parent_profiles (id)
)


2025-06-07 08:10:42,670 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-06-07 08:10:42,689 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:10:42,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:10:42,690 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:10:42,690 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,692 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:10:42,692 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,693 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:10:42,694 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:42,695 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1724444]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1725206]
INFO:     Waiting for application startup.
2025-06-07 08:10:58,420 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:10:58,420 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,421 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:10:58,421 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,422 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:10:58,422 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:10:58,423 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:10:58,424 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,425 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:10:58,425 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,426 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:10:58,426 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:10:58,428 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 08:11:49,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:11:49,316 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:11:49,316 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:11:49,322 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51017 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 08:11:49,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:11:49,480 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:11:49,480 INFO sqlalchemy.engine.Engine [cached since 0.1642s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:11:49,483 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51017 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 08:11:54,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:11:54,859 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:11:54,859 INFO sqlalchemy.engine.Engine [cached since 5.543s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:11:54,860 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51018 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51018 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:11:54,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:11:54,946 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:11:54,946 INFO sqlalchemy.engine.Engine [cached since 5.63s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:11:54,954 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:11:54,954 INFO sqlalchemy.engine.Engine [generated in 0.00054s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:11:54,958 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51018 - "GET /api/parent HTTP/1.1" 404 Not Found
2025-06-07 08:12:06,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:06,369 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:06,370 INFO sqlalchemy.engine.Engine [cached since 17.05s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:06,376 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:12:06,376 INFO sqlalchemy.engine.Engine [generated in 0.00050s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:06,383 INFO sqlalchemy.engine.Engine INSERT INTO parent_profiles (id, user_id, name, preferences) VALUES (%s, %s, %s, %s)
2025-06-07 08:12:06,383 INFO sqlalchemy.engine.Engine [generated in 0.00069s] ('af85239f25324d4c8ca911f5352fbe5f', 'f2acd47d-fce7-4267-969b-2ebaaf4d2695', 'Mike', 'Science')
2025-06-07 08:12:06,386 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:12:06,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:06,395 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id 
FROM parent_profiles 
WHERE parent_profiles.id = %s
2025-06-07 08:12:06,395 INFO sqlalchemy.engine.Engine [generated in 0.00047s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:12:06,403 INFO sqlalchemy.engine.Engine SELECT child_profiles.id AS child_profiles_id, child_profiles.parent_id AS child_profiles_parent_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE %s = child_profiles.parent_id
2025-06-07 08:12:06,403 INFO sqlalchemy.engine.Engine [generated in 0.00049s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:12:06,407 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51021 - "POST /api/parent HTTP/1.1" 200 OK
2025-06-07 08:12:12,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:12,958 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:12,958 INFO sqlalchemy.engine.Engine [cached since 23.64s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:12,964 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:12:12,964 INFO sqlalchemy.engine.Engine [cached since 6.588s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:12,970 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:12:12,970 INFO sqlalchemy.engine.Engine [generated in 0.00061s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:12:12,976 INFO sqlalchemy.engine.Engine INSERT INTO child_profiles (id, parent_id, name, age, preferences) VALUES (%s, %s, %s, %s, %s)
2025-06-07 08:12:12,976 INFO sqlalchemy.engine.Engine [generated in 0.00063s] ('671a43ace2b342ea99afdaf691a6636f', 'af85239f25324d4c8ca911f5352fbe5f', 'Laura', 0, '')
2025-06-07 08:12:12,978 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:12:12,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:12,987 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-07 08:12:12,987 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ('671a43ace2b342ea99afdaf691a6636f',)
2025-06-07 08:12:12,990 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51023 - "POST /api/children HTTP/1.1" 200 OK
2025-06-07 08:12:17,113 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:17,114 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:17,114 INFO sqlalchemy.engine.Engine [cached since 27.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:17,119 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51023 - "POST /api/children HTTP/1.1" 422 Unprocessable Entity
2025-06-07 08:12:23,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:23,277 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:23,277 INFO sqlalchemy.engine.Engine [cached since 33.96s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:23,279 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51025 - "POST /api/children HTTP/1.1" 422 Unprocessable Entity
2025-06-07 08:12:27,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:27,607 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:27,607 INFO sqlalchemy.engine.Engine [cached since 38.29s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:27,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51025 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51025 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:12:27,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:12:27,808 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:12:27,809 INFO sqlalchemy.engine.Engine [cached since 38.49s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:27,812 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:12:27,812 INFO sqlalchemy.engine.Engine [cached since 32.86s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:12:27,818 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:12:27,818 INFO sqlalchemy.engine.Engine [generated in 0.00064s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:12:27,821 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51025 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:16:53,358 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:16:53,358 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:16:53,359 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:16:53,362 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51066 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51066 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:16:53,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:16:53,537 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:16:53,537 INFO sqlalchemy.engine.Engine [cached since 304.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:16:53,540 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:16:53,540 INFO sqlalchemy.engine.Engine [cached since 298.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:16:53,543 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:16:53,544 INFO sqlalchemy.engine.Engine [cached since 265.7s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:16:53,546 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51066 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:17:03,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:03,061 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:03,062 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:03,067 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51067 - "PUT /api/children/671a43ac-e2b3-42ea-99af-daf691a6636f HTTP/1.1" 422 Unprocessable Entity
2025-06-07 08:17:15,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:15,866 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:15,866 INFO sqlalchemy.engine.Engine [cached since 326.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:15,869 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:17:15,870 INFO sqlalchemy.engine.Engine [cached since 309.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:15,873 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:17:15,873 INFO sqlalchemy.engine.Engine [cached since 302.9s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:17:15,877 INFO sqlalchemy.engine.Engine INSERT INTO child_profiles (id, parent_id, name, age, preferences) VALUES (%s, %s, %s, %s, %s)
2025-06-07 08:17:15,877 INFO sqlalchemy.engine.Engine [cached since 302.9s ago] ('866644e88beb46ab9057c0a1858b371c', 'af85239f25324d4c8ca911f5352fbe5f', 'Felix', 10, 'computers, boats')
2025-06-07 08:17:15,879 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:17:15,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:15,887 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-07 08:17:15,887 INFO sqlalchemy.engine.Engine [cached since 302.9s ago] ('866644e88beb46ab9057c0a1858b371c',)
2025-06-07 08:17:15,890 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51070 - "POST /api/children HTTP/1.1" 200 OK
2025-06-07 08:17:19,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:19,154 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:19,154 INFO sqlalchemy.engine.Engine [cached since 329.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:19,157 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51070 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51070 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:17:19,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:19,279 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:19,279 INFO sqlalchemy.engine.Engine [cached since 330s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:19,280 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:17:19,280 INFO sqlalchemy.engine.Engine [cached since 324.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:19,281 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:17:19,281 INFO sqlalchemy.engine.Engine [cached since 291.5s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:17:19,282 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51070 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:17:23,716 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:23,716 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:23,717 INFO sqlalchemy.engine.Engine [cached since 334.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:23,719 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51070 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51070 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:17:23,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:17:23,876 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:17:23,877 INFO sqlalchemy.engine.Engine [cached since 334.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:23,881 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:17:23,881 INFO sqlalchemy.engine.Engine [cached since 328.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:17:23,886 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:17:23,886 INFO sqlalchemy.engine.Engine [cached since 296.1s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:17:23,890 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51070 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:18:06,247 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:06,248 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:06,248 INFO sqlalchemy.engine.Engine [cached since 376.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:06,251 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:18:06,251 INFO sqlalchemy.engine.Engine [cached since 359.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:06,255 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:18:06,255 INFO sqlalchemy.engine.Engine [cached since 353.3s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:18:06,258 INFO sqlalchemy.engine.Engine INSERT INTO child_profiles (id, parent_id, name, age, preferences) VALUES (%s, %s, %s, %s, %s)
2025-06-07 08:18:06,258 INFO sqlalchemy.engine.Engine [cached since 353.3s ago] ('501890bb167b42728ca4fd27e449c7e7', 'af85239f25324d4c8ca911f5352fbe5f', 'Umbert0', 5, 'cheese')
2025-06-07 08:18:06,260 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:18:06,269 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:06,269 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-07 08:18:06,270 INFO sqlalchemy.engine.Engine [cached since 353.3s ago] ('501890bb167b42728ca4fd27e449c7e7',)
2025-06-07 08:18:06,272 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51071 - "POST /api/children HTTP/1.1" 200 OK
2025-06-07 08:18:10,222 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:10,223 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:10,223 INFO sqlalchemy.engine.Engine [cached since 380.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:10,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51071 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51071 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:18:10,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:10,342 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:10,342 INFO sqlalchemy.engine.Engine [cached since 381s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:10,345 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:18:10,345 INFO sqlalchemy.engine.Engine [cached since 375.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:10,348 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:18:10,348 INFO sqlalchemy.engine.Engine [cached since 342.5s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:18:10,351 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51071 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:18:21,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:21,054 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:21,054 INFO sqlalchemy.engine.Engine [cached since 391.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:21,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51078 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51078 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:18:21,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:21,179 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:21,179 INFO sqlalchemy.engine.Engine [cached since 391.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:21,182 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:18:21,183 INFO sqlalchemy.engine.Engine [cached since 386.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:21,186 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:18:21,186 INFO sqlalchemy.engine.Engine [cached since 353.4s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:18:21,189 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51078 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:18:28,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:28,439 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:28,439 INFO sqlalchemy.engine.Engine [cached since 399.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:28,442 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51081 - "PUT /api/children/671a43ac-e2b3-42ea-99af-daf691a6636f HTTP/1.1" 422 Unprocessable Entity
2025-06-07 08:18:32,130 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:32,131 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:32,131 INFO sqlalchemy.engine.Engine [cached since 402.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:32,134 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51081 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51081 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:18:32,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:18:32,278 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:18:32,278 INFO sqlalchemy.engine.Engine [cached since 403s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:32,282 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:18:32,282 INFO sqlalchemy.engine.Engine [cached since 397.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:18:32,285 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:18:32,285 INFO sqlalchemy.engine.Engine [cached since 364.5s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:18:32,288 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51081 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:23:41,853 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:23:41,853 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:23:41,853 INFO sqlalchemy.engine.Engine [cached since 712.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:23:41,859 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles INNER JOIN parent_profiles ON parent_profiles.id = child_profiles.parent_id 
WHERE child_profiles.id = %s AND parent_profiles.user_id = %s
2025-06-07 08:23:41,859 INFO sqlalchemy.engine.Engine [generated in 0.00054s] ('671a43ace2b342ea99afdaf691a6636f', 'f2acd47d-fce7-4267-969b-2ebaaf4d2695')
2025-06-07 08:23:41,866 INFO sqlalchemy.engine.Engine DELETE FROM child_profiles WHERE child_profiles.id = %s
2025-06-07 08:23:41,866 INFO sqlalchemy.engine.Engine [generated in 0.00128s] ('671a43ace2b342ea99afdaf691a6636f',)
2025-06-07 08:23:41,871 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:51110 - "DELETE /api/children/671a43ac-e2b3-42ea-99af-daf691a6636f HTTP/1.1" 204 No Content
2025-06-07 08:23:44,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:23:44,038 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:23:44,038 INFO sqlalchemy.engine.Engine [cached since 714.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:23:44,039 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51110 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51110 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:23:44,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:23:44,251 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:23:44,251 INFO sqlalchemy.engine.Engine [cached since 714.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:23:44,255 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:23:44,255 INFO sqlalchemy.engine.Engine [cached since 709.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:23:44,258 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:23:44,258 INFO sqlalchemy.engine.Engine [cached since 676.4s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:23:44,261 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51110 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:24:06,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:24:06,212 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:24:06,212 INFO sqlalchemy.engine.Engine [cached since 736.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:06,216 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles INNER JOIN parent_profiles ON parent_profiles.id = child_profiles.parent_id 
WHERE child_profiles.id = %s AND parent_profiles.user_id = %s
2025-06-07 08:24:06,216 INFO sqlalchemy.engine.Engine [cached since 24.36s ago] ('501890bb167b42728ca4fd27e449c7e7', 'f2acd47d-fce7-4267-969b-2ebaaf4d2695')
2025-06-07 08:24:06,219 INFO sqlalchemy.engine.Engine DELETE FROM child_profiles WHERE child_profiles.id = %s
2025-06-07 08:24:06,219 INFO sqlalchemy.engine.Engine [cached since 24.35s ago] ('501890bb167b42728ca4fd27e449c7e7',)
2025-06-07 08:24:06,221 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:51113 - "DELETE /api/children/501890bb-167b-4272-8ca4-fd27e449c7e7 HTTP/1.1" 204 No Content
2025-06-07 08:24:08,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:24:08,502 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:24:08,503 INFO sqlalchemy.engine.Engine [cached since 739.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:08,506 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles INNER JOIN parent_profiles ON parent_profiles.id = child_profiles.parent_id 
WHERE child_profiles.id = %s AND parent_profiles.user_id = %s
2025-06-07 08:24:08,506 INFO sqlalchemy.engine.Engine [cached since 26.65s ago] ('866644e88beb46ab9057c0a1858b371c', 'f2acd47d-fce7-4267-969b-2ebaaf4d2695')
2025-06-07 08:24:08,509 INFO sqlalchemy.engine.Engine DELETE FROM child_profiles WHERE child_profiles.id = %s
2025-06-07 08:24:08,509 INFO sqlalchemy.engine.Engine [cached since 26.64s ago] ('866644e88beb46ab9057c0a1858b371c',)
2025-06-07 08:24:08,511 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:51113 - "DELETE /api/children/866644e8-8beb-46ab-9057-c0a1858b371c HTTP/1.1" 204 No Content
2025-06-07 08:24:18,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:24:18,518 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:24:18,518 INFO sqlalchemy.engine.Engine [cached since 749.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:18,519 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51116 - "POST /api/children HTTP/1.1" 422 Unprocessable Entity
2025-06-07 08:24:21,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:24:21,939 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:24:21,940 INFO sqlalchemy.engine.Engine [cached since 752.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:21,942 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51116 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51116 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:24:22,021 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:24:22,022 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:24:22,022 INFO sqlalchemy.engine.Engine [cached since 752.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:22,026 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:24:22,026 INFO sqlalchemy.engine.Engine [cached since 747.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:24:22,029 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:24:22,029 INFO sqlalchemy.engine.Engine [cached since 714.2s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:24:22,032 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51116 - "GET /api/parent HTTP/1.1" 200 OK
INFO:     100.92.101.90:51126 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:27:15,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:27:15,582 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:27:15,582 INFO sqlalchemy.engine.Engine [cached since 926.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:27:15,585 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:27:15,585 INFO sqlalchemy.engine.Engine [cached since 909.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:27:15,589 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:27:15,589 INFO sqlalchemy.engine.Engine [cached since 902.6s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:27:15,592 INFO sqlalchemy.engine.Engine INSERT INTO child_profiles (id, parent_id, name, age, preferences) VALUES (%s, %s, %s, %s, %s)
2025-06-07 08:27:15,592 INFO sqlalchemy.engine.Engine [cached since 902.6s ago] ('652c986f2d4a42aca77092b8ee324cae', 'af85239f25324d4c8ca911f5352fbe5f', 'Laura', 1, 'unicorns, cows')
2025-06-07 08:27:15,594 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:27:15,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:27:15,602 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-07 08:27:15,602 INFO sqlalchemy.engine.Engine [cached since 902.6s ago] ('652c986f2d4a42aca77092b8ee324cae',)
2025-06-07 08:27:15,605 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51183 - "POST /api/children HTTP/1.1" 200 OK
2025-06-07 08:27:27,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:27:27,048 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:27:27,048 INFO sqlalchemy.engine.Engine [cached since 937.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:27:27,050 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51189 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51189 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:27:27,254 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:27:27,254 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:27:27,254 INFO sqlalchemy.engine.Engine [cached since 937.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:27:27,255 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:27:27,256 INFO sqlalchemy.engine.Engine [cached since 932.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:27:27,257 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age AS child_profiles_age, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:27:27,257 INFO sqlalchemy.engine.Engine [cached since 899.4s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:27:27,258 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51189 - "GET /api/parent HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1725206]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1779672]
INFO:     Waiting for application startup.
2025-06-07 08:30:06,274 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:30:06,274 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,275 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:30:06,275 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,276 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:30:06,276 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:30:06,278 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:30:06,278 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,279 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:30:06,279 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,281 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:30:06,281 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:06,282 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1779672]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1780678]
INFO:     Waiting for application startup.
2025-06-07 08:30:24,080 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:30:24,080 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,081 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:30:24,081 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,082 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:30:24,082 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:30:24,084 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:30:24,084 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,085 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:30:24,085 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,086 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:30:24,086 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:30:24,088 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1780678]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1787410]
INFO:     Waiting for application startup.
2025-06-07 08:32:49,137 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:32:49,137 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,138 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:32:49,138 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,138 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:32:49,138 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:32:49,140 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:32:49,140 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,141 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:32:49,141 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,143 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:32:49,143 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:32:49,144 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1787410]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1789718]
INFO:     Waiting for application startup.
2025-06-07 08:33:35,410 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:33:35,410 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,411 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:33:35,411 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,411 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:33:35,411 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:33:35,413 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:33:35,413 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,415 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:33:35,415 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,416 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:33:35,416 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:35,418 INFO sqlalchemy.engine.Engine 
CREATE TABLE child_profiles (
	id CHAR(32) NOT NULL, 
	parent_id CHAR(32) NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	age_years INTEGER NOT NULL, 
	age_months INTEGER NOT NULL, 
	preferences TEXT NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(parent_id) REFERENCES parent_profiles (id)
)


2025-06-07 08:33:35,418 INFO sqlalchemy.engine.Engine [no key 0.00010s] ()
2025-06-07 08:33:35,439 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1789718]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1790336]
INFO:     Waiting for application startup.
2025-06-07 08:33:49,940 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:33:49,940 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,940 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:33:49,940 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,941 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:33:49,941 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:33:49,943 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:33:49,943 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,944 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:33:49,944 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,946 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:33:49,946 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:33:49,948 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 08:33:52,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:33:52,837 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:33:52,837 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:33:52,842 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51405 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51405 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:33:53,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:33:53,029 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:33:53,029 INFO sqlalchemy.engine.Engine [cached since 0.1917s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:33:53,037 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:33:53,037 INFO sqlalchemy.engine.Engine [generated in 0.00060s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:33:53,047 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:33:53,047 INFO sqlalchemy.engine.Engine [generated in 0.00077s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:33:53,051 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51405 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:36:34,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:34,569 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:36:34,569 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:34,572 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51498 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51498 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:36:34,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:34,740 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:36:34,740 INFO sqlalchemy.engine.Engine [cached since 161.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:34,744 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:36:34,744 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:34,747 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:36:34,748 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:36:34,751 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51498 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-07 08:36:50,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:50,546 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:36:50,546 INFO sqlalchemy.engine.Engine [cached since 177.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:50,554 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:36:50,554 INFO sqlalchemy.engine.Engine [generated in 0.00051s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:50,558 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:36:50,558 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:36:50,563 INFO sqlalchemy.engine.Engine INSERT INTO child_profiles (id, parent_id, name, age_years, age_months, preferences) VALUES (%s, %s, %s, %s, %s, %s)
2025-06-07 08:36:50,563 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ('416c9c7f671b43448d0fe0b1653c0ba4', 'af85239f25324d4c8ca911f5352fbe5f', 'Laura', 1, 4, 'unicorns,cows')
2025-06-07 08:36:50,564 INFO sqlalchemy.engine.Engine COMMIT
2025-06-07 08:36:50,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:50,571 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-07 08:36:50,571 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-07 08:36:50,572 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51499 - "POST /api/children HTTP/1.1" 200 OK
2025-06-07 08:36:54,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:54,072 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:36:54,072 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:54,074 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51499 - "GET /profiles HTTP/1.1" 200 OK
INFO:     100.92.101.90:51499 - "GET /static/styles.css HTTP/1.1" 404 Not Found
2025-06-07 08:36:54,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:36:54,261 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:36:54,262 INFO sqlalchemy.engine.Engine [cached since 181.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:54,265 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-07 08:36:54,265 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:36:54,268 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-07 08:36:54,269 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-07 08:36:54,272 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51499 - "GET /api/parent HTTP/1.1" 200 OK
INFO:     100.92.101.90:51509 - "GET / HTTP/1.1" 200 OK
2025-06-07 08:37:43,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:43,076 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:43,076 INFO sqlalchemy.engine.Engine [cached since 230.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:43,077 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51509 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 08:37:46,325 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:46,326 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:46,326 INFO sqlalchemy.engine.Engine [cached since 233.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:46,329 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51509 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
2025-06-07 08:37:49,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:49,827 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-07 08:37:49,827 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('mstachow@uwaterloo.ca',)
2025-06-07 08:37:49,898 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51509 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-07 08:37:49,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:49,919 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:49,919 INFO sqlalchemy.engine.Engine [cached since 237.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:49,920 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51509 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 08:37:49,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:49,965 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:49,965 INFO sqlalchemy.engine.Engine [cached since 237.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:49,967 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51509 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 08:37:50,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:50,349 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:50,349 INFO sqlalchemy.engine.Engine [cached since 237.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:50,352 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51549 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 08:37:53,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:37:53,878 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:37:53,878 INFO sqlalchemy.engine.Engine [cached since 241s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:37:53,880 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51549 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1790336]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1806307]
INFO:     Waiting for application startup.
2025-06-07 08:39:23,503 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-07 08:39:23,503 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,503 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-07 08:39:23,504 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,504 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-07 08:39:23,504 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,505 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:23,505 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-07 08:39:23,505 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,506 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-07 08:39:23,506 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,507 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-07 08:39:23,507 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-07 08:39:23,509 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-07 08:39:31,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:31,931 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:31,931 INFO sqlalchemy.engine.Engine [generated in 0.00034s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:39:31,937 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-07 08:39:32,136 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:32,137 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:32,137 INFO sqlalchemy.engine.Engine [cached since 0.2059s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:39:32,138 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "GET /whoami HTTP/1.1" 200 OK
2025-06-07 08:39:34,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:34,127 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:34,127 INFO sqlalchemy.engine.Engine [cached since 2.196s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}]
2025-06-07 08:39:34,951 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:39,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:39,392 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:39,392 INFO sqlalchemy.engine.Engine [cached since 7.462s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}]
2025-06-07 08:39:40,704 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:45,023 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:45,024 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:45,024 INFO sqlalchemy.engine.Engine [cached since 13.09s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Can you tell me more about what was happening when your child signed for milk? For example, were you together in the kitchen, was it during a meal or snack, or another situation?"}, {'role': 'user', 'content': 'just playing'}]
2025-06-07 08:39:46,453 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:48,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:48,993 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:48,993 INFO sqlalchemy.engine.Engine [cached since 17.06s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Can you tell me more about what was happening when your child signed for milk? For example, were you together in the kitchen, was it during a meal or snack, or another situation?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Thanks for sharing! When your child signed for milk while playing, how did you respond? Did you talk to them, give them milk, or do something else?'}, {'role': 'user', 'content': 'got milk'}]
2025-06-07 08:39:49,833 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:52,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:52,117 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:52,117 INFO sqlalchemy.engine.Engine [cached since 20.19s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Can you tell me more about what was happening when your child signed for milk? For example, were you together in the kitchen, was it during a meal or snack, or another situation?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Thanks for sharing! When your child signed for milk while playing, how did you respond? Did you talk to them, give them milk, or do something else?'}, {'role': 'user', 'content': 'got milk'}, {'role': 'assistant', 'content': 'Great! After you gave your child the milk, how did they react? Did they seem happy, keep playing, or do something else?'}, {'role': 'user', 'content': 'happy'}]
2025-06-07 08:39:53,143 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:56,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:56,569 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:56,569 INFO sqlalchemy.engine.Engine [cached since 24.64s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Can you tell me more about what was happening when your child signed for milk? For example, were you together in the kitchen, was it during a meal or snack, or another situation?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Thanks for sharing! When your child signed for milk while playing, how did you respond? Did you talk to them, give them milk, or do something else?'}, {'role': 'user', 'content': 'got milk'}, {'role': 'assistant', 'content': 'Great! After you gave your child the milk, how did they react? Did they seem happy, keep playing, or do something else?'}, {'role': 'user', 'content': 'happy'}, {'role': 'assistant', 'content': 'That sounds like a lovely moment! One more questionhave you noticed your child using other signs, words, or gestures to ask for things, or was this a new experience?'}, {'role': 'user', 'content': 'yes'}]
2025-06-07 08:39:57,485 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:39:59,220 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:39:59,221 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:39:59,221 INFO sqlalchemy.engine.Engine [cached since 27.29s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
history=[{'role': 'user', 'content': 'HI'}, {'role': 'assistant', 'content': 'Hello! What did your toddler do today?'}, {'role': 'user', 'content': 'signed for milk'}, {'role': 'assistant', 'content': "That's wonderful! Can you tell me more about what was happening when your child signed for milk? For example, were you together in the kitchen, was it during a meal or snack, or another situation?"}, {'role': 'user', 'content': 'just playing'}, {'role': 'assistant', 'content': 'Thanks for sharing! When your child signed for milk while playing, how did you respond? Did you talk to them, give them milk, or do something else?'}, {'role': 'user', 'content': 'got milk'}, {'role': 'assistant', 'content': 'Great! After you gave your child the milk, how did they react? Did they seem happy, keep playing, or do something else?'}, {'role': 'user', 'content': 'happy'}, {'role': 'assistant', 'content': 'That sounds like a lovely moment! One more questionhave you noticed your child using other signs, words, or gestures to ask for things, or was this a new experience?'}, {'role': 'user', 'content': 'yes'}, {'role': 'assistant', 'content': 'Would you like a summary of the learning episode, or would you like to keep exploring your childs learning from today?'}, {'role': 'user', 'content': 'summary'}]
## Summary:
Today, your toddler showed an important communication skill by signing for milk during playtime. When you responded by giving them milk, your child expressed happinessshowing that they felt understood and connected. This episode is a wonderful example of your childs growing ability to express their needs and desires, which is a key milestone in both language and social-emotional development. Using signs, words, or gestures helps toddlers build early language skills before they're able to fully speak, and it strengthens your relationship by fostering trust and responsiveness. Your attentive response also supports your childs confidence in using communication to get their needs met.

Would you like an idea for an age-appropriate activity to help keep building these skills?

Here's some information for you about how this interaction lines up with child development indicators: 
1. **Expressive Communication Skills:** Your child used a sign to clearly tell you they wanted milk, showing exciting growth in how they express their needs even before using full words.

2. **Social Connection and Back-and-Forth Interaction:** By signing and then reacting with happiness when you responded, your toddler is building early conversation skills and connecting with you through a simple, meaningful exchange.

3. **Independence and Problem-Solving:** Your child showed independence by taking initiative to ask for what they wanted, and problem-solving by using a sign to get their needs met during playtime.
2025-06-07 08:40:24,579 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51609 - "POST /chat HTTP/1.1" 200 OK
2025-06-07 08:40:32,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-07 08:40:32,682 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-07 08:40:32,682 INFO sqlalchemy.engine.Engine [cached since 60.75s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-07 08:40:44,930 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:51644 - "POST /save_chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1806307]
Process SpawnProcess-63:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 46, in <module>
    ) -> ParentProfile:
         ^^^^^^^^^^^^^
NameError: name 'ParentProfile' is not defined
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1367078]
INFO:     Waiting for application startup.
2025-06-09 07:11:35,928 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:11:35,928 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,929 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:11:35,929 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,929 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:11:35,929 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,930 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:11:35,930 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:11:35,930 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,931 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:11:35,931 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,933 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:11:35,933 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:11:35,934 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.92.101.90:62528 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:62528 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:62528 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-09 07:11:44,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:11:44,359 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-09 07:11:44,359 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('mstachow@uwaterloo.ca',)
2025-06-09 07:11:44,421 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62529 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-09 07:11:44,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:11:44,442 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:11:44,442 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:11:44,443 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62529 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:11:44,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:11:44,512 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:11:44,512 INFO sqlalchemy.engine.Engine [cached since 0.06987s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:11:44,515 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62529 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-09 07:11:44,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:11:44,662 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:11:44,662 INFO sqlalchemy.engine.Engine [cached since 0.2198s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:11:44,665 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62529 - "GET /whoami HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1367078]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1370417]
INFO:     Waiting for application startup.
2025-06-09 07:12:44,925 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:12:44,925 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,926 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:12:44,926 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,927 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:12:44,927 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:12:44,928 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:12:44,928 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,929 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:12:44,929 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,930 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:12:44,930 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:12:44,932 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1370417]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1373281]
INFO:     Waiting for application startup.
2025-06-09 07:13:44,638 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:13:44,638 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,639 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:13:44,639 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,639 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:13:44,639 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:13:44,640 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:13:44,640 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,641 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:13:44,641 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,643 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:13:44,643 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:13:44,644 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-09 07:13:47,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:13:47,589 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:13:47,589 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:13:47,596 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62544 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-09 07:13:47,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:13:47,697 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:13:47,697 INFO sqlalchemy.engine.Engine [cached since 0.1078s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:13:47,700 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62544 - "GET /whoami HTTP/1.1" 200 OK
INFO:     100.92.101.90:62545 - "GET /chat HTTP/1.1" 405 Method Not Allowed
2025-06-09 07:14:23,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:14:23,205 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:14:23,205 INFO sqlalchemy.engine.Engine [cached since 35.62s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:14:23,208 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62550 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:14:33,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:14:33,993 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:14:33,993 INFO sqlalchemy.engine.Engine [cached since 46.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:14:33,994 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62551 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:14:58,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:14:58,465 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:14:58,465 INFO sqlalchemy.engine.Engine [cached since 70.88s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:14:58,475 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:14:58,475 INFO sqlalchemy.engine.Engine [generated in 0.00053s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:14:58,484 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:14:58,484 INFO sqlalchemy.engine.Engine [generated in 0.00064s] ('af85239f25324d4c8ca911f5352fbe5f',)
<main_dev.ParentProfile object at 0x74c60044d2b0>
2025-06-09 07:14:59,407 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62552 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1373281]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1379473]
INFO:     Waiting for application startup.
2025-06-09 07:15:55,207 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:15:55,207 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,208 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:15:55,208 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,208 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:15:55,208 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:15:55,209 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:15:55,209 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,210 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:15:55,210 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,212 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:15:55,212 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:15:55,213 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-09 07:15:59,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:15:59,619 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:15:59,619 INFO sqlalchemy.engine.Engine [generated in 0.00033s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:15:59,625 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:15:59,625 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:15:59,628 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:15:59,629 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
2025-06-09 07:15:59,630 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62555 - "POST /chat HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 401, in chat
    print(parend_data.preferences)
          ^^^^^^^^^^^
NameError: name 'parend_data' is not defined. Did you mean: 'parent_data'?
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1379473]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1380723]
INFO:     Waiting for application startup.
2025-06-09 07:16:20,843 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:16:20,844 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,844 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:16:20,844 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,845 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:16:20,845 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:16:20,846 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:16:20,846 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,847 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:16:20,847 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,848 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:16:20,848 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:16:20,850 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-09 07:16:20,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:16:20,863 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:16:20,863 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:16:20,867 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:16:20,867 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:16:20,869 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:16:20,869 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-09 07:16:22,093 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62557 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1380723]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1420009]
INFO:     Waiting for application startup.
2025-06-09 07:30:10,043 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:30:10,044 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,044 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:30:10,044 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,045 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:30:10,045 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:10,046 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:30:10,046 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,047 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:30:10,047 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,048 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:30:10,048 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:30:10,049 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-09 07:30:15,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:15,812 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:15,812 INFO sqlalchemy.engine.Engine [generated in 0.00034s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:15,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62587 - "POST /auth/jwt/logout HTTP/1.1" 204 No Content
INFO:     100.92.101.90:62587 - "GET /auth HTTP/1.1" 200 OK
INFO:     100.92.101.90:62587 - "GET /whoami HTTP/1.1" 401 Unauthorized
2025-06-09 07:30:19,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:19,578 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-09 07:30:19,578 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('mstachow@uwaterloo.ca',)
2025-06-09 07:30:19,650 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62587 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-09 07:30:19,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:19,672 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:19,672 INFO sqlalchemy.engine.Engine [cached since 3.86s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:19,673 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62587 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:30:19,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:19,859 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:19,859 INFO sqlalchemy.engine.Engine [cached since 4.047s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:19,862 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62587 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:30:28,056 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:28,056 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:28,056 INFO sqlalchemy.engine.Engine [cached since 12.24s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:28,057 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62588 - "GET /profiles HTTP/1.1" 200 OK
2025-06-09 07:30:28,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:28,119 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:28,120 INFO sqlalchemy.engine.Engine [cached since 12.31s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:28,127 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:30:28,127 INFO sqlalchemy.engine.Engine [generated in 0.00048s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:28,136 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:30:28,136 INFO sqlalchemy.engine.Engine [generated in 0.00062s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-09 07:30:28,140 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62588 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-09 07:30:38,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:38,888 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:38,888 INFO sqlalchemy.engine.Engine [cached since 23.08s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:38,891 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62590 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-09 07:30:38,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:38,986 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:38,986 INFO sqlalchemy.engine.Engine [cached since 23.17s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:38,989 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62590 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:30:50,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:30:50,735 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:30:50,735 INFO sqlalchemy.engine.Engine [cached since 34.92s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:30:50,740 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:30:50,741 INFO sqlalchemy.engine.Engine [cached since 22.61s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:30:50,744 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:30:50,744 INFO sqlalchemy.engine.Engine [cached since 22.61s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-09 07:30:50,747 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62591 - "POST /chat HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 402, in chat
    if(request.child_id):
       ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/pydantic/main.py", line 896, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatHistoryRequest' object has no attribute 'child_id'
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1420009]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1423527]
INFO:     Waiting for application startup.
2025-06-09 07:31:21,869 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-09 07:31:21,869 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,870 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-09 07:31:21,870 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,870 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-09 07:31:21,870 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,871 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:31:21,871 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-09 07:31:21,871 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,873 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-09 07:31:21,873 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,875 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-09 07:31:21,875 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-09 07:31:21,877 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-09 07:31:34,318 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:31:34,334 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:31:34,334 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:31:34,340 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62597 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-09 07:31:34,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:31:34,430 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:31:34,430 INFO sqlalchemy.engine.Engine [cached since 0.09626s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:31:34,433 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62597 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:31:41,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:31:41,237 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:31:41,237 INFO sqlalchemy.engine.Engine [cached since 6.904s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:31:41,248 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:31:41,248 INFO sqlalchemy.engine.Engine [generated in 0.00056s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:31:41,257 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:31:41,258 INFO sqlalchemy.engine.Engine [generated in 0.00067s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
CHILD: 
416c9c7f-671b-4344-8d0f-e0b1653c0ba4
2025-06-09 07:31:42,036 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62598 - "POST /chat HTTP/1.1" 200 OK
2025-06-09 07:32:21,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:32:21,395 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:32:21,396 INFO sqlalchemy.engine.Engine [cached since 47.06s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:32:21,399 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:32:21,400 INFO sqlalchemy.engine.Engine [cached since 40.15s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:32:21,403 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:32:21,403 INFO sqlalchemy.engine.Engine [cached since 40.15s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
CHILD: 
416c9c7f-671b-4344-8d0f-e0b1653c0ba4
2025-06-09 07:32:22,368 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62601 - "POST /chat HTTP/1.1" 200 OK
2025-06-09 07:35:21,064 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:35:21,065 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:35:21,065 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:35:21,066 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62693 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-09 07:35:21,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:35:21,241 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:35:21,241 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:35:21,242 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62693 - "GET /whoami HTTP/1.1" 200 OK
2025-06-09 07:35:23,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-09 07:35:23,936 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-09 07:35:23,936 INFO sqlalchemy.engine.Engine [cached since 229.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-09 07:35:23,939 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-09 07:35:23,940 INFO sqlalchemy.engine.Engine [cached since 222.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-09 07:35:23,943 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-09 07:35:23,943 INFO sqlalchemy.engine.Engine [cached since 222.7s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
CHILD: 
416c9c7f-671b-4344-8d0f-e0b1653c0ba4
2025-06-09 07:35:24,879 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:62693 - "POST /chat HTTP/1.1" 200 OK
INFO:     100.100.14.61:60249 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     100.92.101.90:50176 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:50176 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50176 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-10 06:49:42,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:42,360 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-10 06:49:42,360 INFO sqlalchemy.engine.Engine [generated in 0.00053s] ('mstachow@uwaterloo.ca',)
INFO:     100.92.101.90:50203 - "POST /auth/jwt/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 95, in execute
    return self.await_(self._execute_async(operation, parameters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 107, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 625, in read_packet
asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/router/auth.py", line 55, in login
    user = await user_manager.authenticate(credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 647, in authenticate
    user = await self.get_by_email(credentials.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users/manager.py", line 87, in get_by_email
    user = await self.user_db.get_by_email(user_email)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users_db_sqlalchemy/__init__.py", line 128, in get_by_email
    return await self._get_user(statement)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi_users_db_sqlalchemy/__init__.py", line 189, in _get_user
    results = await self.session.execute(statement)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 95, in execute
    return self.await_(self._execute_async(operation, parameters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/dialects/mysql/asyncmy.py", line 107, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 625, in read_packet
sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)]
[parameters: ('mstachow@uwaterloo.ca',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 06:49:49,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:49,814 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-10 06:49:49,815 INFO sqlalchemy.engine.Engine [cached since 7.455s ago] ('mstachow@uwaterloo.ca',)
2025-06-10 06:49:49,895 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50219 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-10 06:49:49,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:49,906 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:49:49,906 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:49,907 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50219 - "GET /whoami HTTP/1.1" 200 OK
2025-06-10 06:49:49,924 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:49,924 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:49:49,924 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:49,925 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50219 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-10 06:49:49,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:49,985 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:49:49,985 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:49,987 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50219 - "GET /whoami HTTP/1.1" 200 OK
2025-06-10 06:49:57,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:57,448 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:49:57,448 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:57,449 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50221 - "GET /profiles HTTP/1.1" 200 OK
2025-06-10 06:49:57,506 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:49:57,507 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:49:57,507 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:57,511 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-10 06:49:57,512 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:49:57,515 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-10 06:49:57,515 INFO sqlalchemy.engine.Engine [cached since 8.39e+04s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-10 06:49:57,519 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50221 - "GET /api/parent HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1423527]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1214275]
INFO:     Waiting for application startup.
2025-06-10 06:51:21,806 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 06:51:21,807 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,807 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 06:51:21,807 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,808 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 06:51:21,808 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:51:21,809 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 06:51:21,809 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,810 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 06:51:21,810 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,811 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 06:51:21,811 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:51:21,813 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1214275]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1225376]
INFO:     Waiting for application startup.
2025-06-10 06:55:17,307 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 06:55:17,307 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,307 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 06:55:17,308 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,308 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 06:55:17,308 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:55:17,309 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 06:55:17,309 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,310 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 06:55:17,310 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,312 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 06:55:17,312 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:17,313 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1225376]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1227209]
INFO:     Waiting for application startup.
2025-06-10 06:55:55,596 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 06:55:55,596 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,597 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 06:55:55,597 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,597 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 06:55:55,598 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:55:55,598 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 06:55:55,598 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,600 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 06:55:55,600 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,601 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 06:55:55,601 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:55:55,603 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-10 06:56:04,363 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:56:04,381 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:56:04,381 INFO sqlalchemy.engine.Engine [generated in 0.00033s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:56:04,387 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50375 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-10 06:56:04,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:56:04,560 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:56:04,560 INFO sqlalchemy.engine.Engine [cached since 0.1796s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:56:04,561 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50375 - "GET /whoami HTTP/1.1" 200 OK
2025-06-10 06:56:06,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:56:06,484 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:56:06,484 INFO sqlalchemy.engine.Engine [cached since 2.103s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-10 06:56:06,487 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-10 06:56:06,487 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:56:06,490 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-10 06:56:06,490 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-10 06:56:06,492 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50375 - "POST /chat HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1487, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 3712, in process
    value = value.hex
            ^^^^^^^^^
AttributeError: 'str' object has no attribute 'hex'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/mike/.local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 409, in chat
    child_data = await get_child_by_id(session, request.child_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/elect/newapp/backend/main_dev.py", line 110, in get_child_by_id
    result = await session.execute(select(ChildProfile).where(ChildProfile.id == child_id))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1818, in _execute_context
    self._handle_dbapi_exception(
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1812, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1487, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/home/mike/.local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 3712, in process
    value = value.hex
            ^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) 'str' object has no attribute 'hex'
[SQL: SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s]
[parameters: [{}]]
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1227209]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1235241]
INFO:     Waiting for application startup.
2025-06-10 06:58:44,748 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 06:58:44,748 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,748 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 06:58:44,749 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,749 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 06:58:44,749 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:58:44,750 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 06:58:44,750 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,751 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 06:58:44,751 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,752 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 06:58:44,752 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 06:58:44,754 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-10 06:58:50,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 06:58:50,596 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 06:58:50,596 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-10 06:58:50,600 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-10 06:58:50,600 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 06:58:50,603 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-10 06:58:50,603 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-10 06:58:50,605 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-10 06:58:50,605 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
CHILD:
Laura
1
4
unicorns,cows
2025-06-10 06:59:03,039 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50407 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1235241]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1244795]
INFO:     Waiting for application startup.
2025-06-10 07:02:05,938 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 07:02:05,939 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,939 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 07:02:05,939 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,940 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 07:02:05,940 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:02:05,941 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 07:02:05,941 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,942 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 07:02:05,942 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,943 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 07:02:05,943 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:02:05,945 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1244795]
Process SpawnProcess-76:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 991, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1129, in get_code
  File "<frozen importlib._bootstrap_external>", line 1059, in source_to_code
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 407
    return [prompt,
           ^
SyntaxError: '[' was never closed
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
Process SpawnProcess-77:
Traceback (most recent call last):
  File "/usr/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1516, in uvloop.loop.Loop.run_until_complete
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/mike/.local/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 991, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1129, in get_code
  File "<frozen importlib._bootstrap_external>", line 1059, in source_to_code
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/mike/elect/newapp/backend/main_dev.py", line 416
    return [prompt,
           ^
SyntaxError: '[' was never closed
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1260755]
INFO:     Waiting for application startup.
2025-06-10 07:07:40,454 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 07:07:40,454 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,455 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 07:07:40,455 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,455 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 07:07:40,455 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:07:40,456 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 07:07:40,456 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,458 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 07:07:40,458 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,459 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 07:07:40,459 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:07:40,460 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1260755]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1261884]
INFO:     Waiting for application startup.
2025-06-10 07:08:04,904 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 07:08:04,904 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,905 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 07:08:04,905 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,906 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 07:08:04,906 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:08:04,906 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 07:08:04,906 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,908 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 07:08:04,908 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,909 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 07:08:04,909 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:04,911 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1261884]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1263557]
INFO:     Waiting for application startup.
2025-06-10 07:08:38,499 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 07:08:38,499 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,500 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 07:08:38,500 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,500 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 07:08:38,500 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:08:38,501 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 07:08:38,501 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,502 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 07:08:38,502 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,504 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 07:08:38,504 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:08:38,505 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-10 07:08:46,763 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:08:46,769 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:08:46,769 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:08:46,776 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50432 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-10 07:08:46,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:08:46,950 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:08:46,950 INFO sqlalchemy.engine.Engine [cached since 0.1808s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:08:46,953 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50432 - "GET /whoami HTTP/1.1" 200 OK
2025-06-10 07:08:49,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:08:49,600 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:08:49,600 INFO sqlalchemy.engine.Engine [cached since 2.831s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-10 07:08:49,603 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-10 07:08:49,603 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:08:49,606 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-10 07:08:49,606 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-10 07:08:49,607 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-10 07:08:49,607 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
CHILD:
Laura
1
4
unicorns,cows
Error: make_prompt() missing 4 required positional arguments: 'age_years', 'age_months', 'name', and 'preferences'
2025-06-10 07:08:49,608 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50432 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1263557]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1269503]
INFO:     Waiting for application startup.
2025-06-10 07:10:44,165 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-10 07:10:44,165 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,166 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-10 07:10:44,166 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,166 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-10 07:10:44,166 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:10:44,167 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-10 07:10:44,167 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,168 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-10 07:10:44,168 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,169 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-10 07:10:44,169 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-10 07:10:44,171 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-10 07:10:47,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:10:47,175 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:10:47,175 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:10:47,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50439 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-10 07:10:47,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:10:47,280 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:10:47,280 INFO sqlalchemy.engine.Engine [cached since 0.1054s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:10:47,283 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50439 - "GET /whoami HTTP/1.1" 200 OK
2025-06-10 07:10:49,727 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:10:49,728 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:10:49,728 INFO sqlalchemy.engine.Engine [cached since 2.554s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
PARENT: 
2025-06-10 07:10:49,741 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-10 07:10:49,742 INFO sqlalchemy.engine.Engine [generated in 0.00062s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:10:49,752 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-10 07:10:49,752 INFO sqlalchemy.engine.Engine [generated in 0.00096s] ('af85239f25324d4c8ca911f5352fbe5f',)
Mike
Science
2025-06-10 07:10:49,758 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-10 07:10:49,759 INFO sqlalchemy.engine.Engine [generated in 0.00050s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
CHILD:
Laura
1
4
unicorns,cows
Loaded it up
2025-06-10 07:10:59,807 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50439 - "POST /chat HTTP/1.1" 200 OK
2025-06-10 07:11:34,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-10 07:11:34,940 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-10 07:11:34,940 INFO sqlalchemy.engine.Engine [cached since 47.77s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-10 07:12:46,891 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50440 - "POST /save_chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1269503]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1156675]
INFO:     Waiting for application startup.
2025-06-11 07:04:44,472 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-11 07:04:44,472 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,473 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-11 07:04:44,473 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,473 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-11 07:04:44,473 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:04:44,474 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-11 07:04:44,474 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,476 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-11 07:04:44,476 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,477 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-11 07:04:44,477 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,478 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`chat_sessions`
2025-06-11 07:04:44,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,479 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`chat_messages`
2025-06-11 07:04:44,479 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:04:44,480 INFO sqlalchemy.engine.Engine 
CREATE TABLE chat_sessions (
	id CHAR(32) NOT NULL, 
	child_id CHAR(32) NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(child_id) REFERENCES child_profiles (id)
)


2025-06-11 07:04:44,480 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-06-11 07:04:44,500 INFO sqlalchemy.engine.Engine 
CREATE TABLE chat_messages (
	id CHAR(32) NOT NULL, 
	session_id CHAR(32) NOT NULL, 
	`role` VARCHAR(10) NOT NULL, 
	content TEXT NOT NULL, 
	timestamp DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(session_id) REFERENCES chat_sessions (id)
)


2025-06-11 07:04:44,501 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-06-11 07:04:44,525 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     100.92.101.90:50770 - "GET / HTTP/1.1" 200 OK
INFO:     100.92.101.90:50770 - "GET /whoami HTTP/1.1" 401 Unauthorized
INFO:     100.92.101.90:50770 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-11 07:08:59,326 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:08:59,354 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE lower(user.email) = lower(%s)
2025-06-11 07:08:59,355 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('mstachow@uwaterloo.ca',)
2025-06-11 07:08:59,418 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50770 - "POST /auth/jwt/login HTTP/1.1" 204 No Content
2025-06-11 07:08:59,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:08:59,439 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:08:59,439 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:08:59,440 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50770 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:08:59,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:08:59,489 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:08:59,489 INFO sqlalchemy.engine.Engine [cached since 0.05056s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:08:59,492 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50770 - "GET /chat_redirect HTTP/1.1" 200 OK
2025-06-11 07:08:59,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:08:59,648 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:08:59,649 INFO sqlalchemy.engine.Engine [cached since 0.2099s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:08:59,651 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50770 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:09:01,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:01,790 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:01,790 INFO sqlalchemy.engine.Engine [cached since 2.352s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:01,795 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:09:01,796 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:01,799 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:09:01,799 INFO sqlalchemy.engine.Engine [generated in 0.00033s] ('af85239f25324d4c8ca911f5352fbe5f',)
Error: 400: child_id required to initiate chat
2025-06-11 07:09:01,802 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50770 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:09:10,551 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:10,552 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:10,552 INFO sqlalchemy.engine.Engine [cached since 11.11s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:10,555 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "GET /profiles HTTP/1.1" 200 OK
2025-06-11 07:09:10,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:10,630 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:10,630 INFO sqlalchemy.engine.Engine [cached since 11.19s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:10,633 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:09:10,634 INFO sqlalchemy.engine.Engine [cached since 8.838s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:10,637 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:09:10,637 INFO sqlalchemy.engine.Engine [cached since 8.838s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:09:10,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-11 07:09:13,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:13,191 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:13,192 INFO sqlalchemy.engine.Engine [cached since 13.75s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:13,194 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:09:13,326 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:13,327 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:13,327 INFO sqlalchemy.engine.Engine [cached since 13.89s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:13,330 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50771 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:09:15,325 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:15,325 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:15,325 INFO sqlalchemy.engine.Engine [cached since 15.89s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:15,326 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:09:15,326 INFO sqlalchemy.engine.Engine [cached since 13.53s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:15,327 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:09:15,327 INFO sqlalchemy.engine.Engine [cached since 13.53s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:09:15,329 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:09:15,329 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:09:15,331 INFO sqlalchemy.engine.Engine INSERT INTO chat_sessions (id, child_id, created_at) VALUES (%s, %s, %s)
2025-06-11 07:09:15,331 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('9e48f455e4424e1b92c8a673193e7fd6', '416c9c7f671b43448d0fe0b1653c0ba4', datetime.datetime(2025, 6, 11, 11, 9, 15, 331484))
2025-06-11 07:09:15,332 INFO sqlalchemy.engine.Engine COMMIT
2025-06-11 07:09:15,336 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:15,337 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id, chat_sessions.child_id, chat_sessions.created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:09:15,337 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:09:15,340 INFO sqlalchemy.engine.Engine SELECT chat_messages.id AS chat_messages_id, chat_messages.session_id AS chat_messages_session_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE %s = chat_messages.session_id
2025-06-11 07:09:15,340 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:09:16,501 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:16,502 INFO sqlalchemy.engine.Engine [generated in 0.00073s] ('a306c3aeb8ec429093afb9ddf235acf5', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi?', datetime.datetime(2025, 6, 11, 11, 9, 16, 501710))
2025-06-11 07:09:16,506 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:16,506 INFO sqlalchemy.engine.Engine [cached since 0.005046s ago] ('efb3711110f54ddab1d679075126906a', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn about Lauras day. What did Laura do today?', datetime.datetime(2025, 6, 11, 11, 9, 16, 506156))
2025-06-11 07:09:16,508 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50771 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:09:24,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:09:24,243 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:09:24,243 INFO sqlalchemy.engine.Engine [cached since 24.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:24,244 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:09:24,244 INFO sqlalchemy.engine.Engine [cached since 22.45s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:09:24,245 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:09:24,245 INFO sqlalchemy.engine.Engine [cached since 22.45s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:09:24,247 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:09:24,247 INFO sqlalchemy.engine.Engine [cached since 8.918s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:09:24,248 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:09:24,248 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:09:24,250 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:09:24,250 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:09:26,144 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:26,145 INFO sqlalchemy.engine.Engine [cached since 9.644s ago] ('d026360e3a3b47ac85710443a6d4c5d8', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi?', datetime.datetime(2025, 6, 11, 11, 9, 26, 144699))
2025-06-11 07:09:26,146 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:26,147 INFO sqlalchemy.engine.Engine [cached since 9.646s ago] ('6de8ee883f62468c8fd81254b534af0f', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn about Lauras day. What did Laura do today?', datetime.datetime(2025, 6, 11, 11, 9, 26, 146794))
2025-06-11 07:09:26,148 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:26,148 INFO sqlalchemy.engine.Engine [cached since 9.648s ago] ('5e60118c38d240539a73e3614265788f', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'signed for milk', datetime.datetime(2025, 6, 11, 11, 9, 26, 148655))
2025-06-11 07:09:26,150 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:09:26,150 INFO sqlalchemy.engine.Engine [cached since 9.649s ago] ('2783137e10284595ac5cfea16fc94b4d', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Thats wonderful! Signing for milk is a great way for Laura to communicate her needs. Can you tell me what was happening right before Laura signed for milk? For example, was she playing, eating, or maybe sitting with you?', datetime.datetime(2025, 6, 11, 11, 9, 26, 150439))
2025-06-11 07:09:26,152 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50775 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:10:33,155 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:10:33,156 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:10:33,156 INFO sqlalchemy.engine.Engine [cached since 93.72s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:33,159 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50783 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:10:33,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:10:33,249 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:10:33,249 INFO sqlalchemy.engine.Engine [cached since 93.81s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:33,252 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50783 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:10:35,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:10:35,474 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:10:35,475 INFO sqlalchemy.engine.Engine [cached since 96.04s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:35,478 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:10:35,478 INFO sqlalchemy.engine.Engine [cached since 93.68s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:35,482 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:10:35,482 INFO sqlalchemy.engine.Engine [cached since 93.68s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:10:35,485 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:10:35,486 INFO sqlalchemy.engine.Engine [cached since 80.16s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:10:35,489 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:10:35,489 INFO sqlalchemy.engine.Engine [cached since 71.24s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:10:35,492 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:10:35,492 INFO sqlalchemy.engine.Engine [cached since 71.24s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:10:36,505 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:36,505 INFO sqlalchemy.engine.Engine [cached since 80s ago] ('18786aaa3b8c40c6beb76ddf27c2baeb', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 10, 36, 505005))
2025-06-11 07:10:36,507 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:36,507 INFO sqlalchemy.engine.Engine [cached since 80.01s ago] ('d88ba77b5b6d41afbb200a61eeb9418d', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn more about Laura and her day. \n\nWhat did Laura do today?', datetime.datetime(2025, 6, 11, 11, 10, 36, 507058))
2025-06-11 07:10:36,509 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50783 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:10:41,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:10:41,276 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:10:41,277 INFO sqlalchemy.engine.Engine [cached since 101.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:41,278 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:10:41,278 INFO sqlalchemy.engine.Engine [cached since 99.48s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:41,279 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:10:41,279 INFO sqlalchemy.engine.Engine [cached since 99.48s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:10:41,280 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:10:41,280 INFO sqlalchemy.engine.Engine [cached since 85.95s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:10:41,281 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:10:41,281 INFO sqlalchemy.engine.Engine [cached since 77.03s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:10:41,282 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:10:41,282 INFO sqlalchemy.engine.Engine [cached since 77.03s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:10:43,128 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:43,128 INFO sqlalchemy.engine.Engine [cached since 86.63s ago] ('2c7a009166494fe5b966383c9ca427b1', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 10, 43, 128736))
2025-06-11 07:10:43,130 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:43,130 INFO sqlalchemy.engine.Engine [cached since 86.63s ago] ('888d1a8fd5f842b490683c27e0a65690', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn more about Laura and her day. \n\nWhat did Laura do today?', datetime.datetime(2025, 6, 11, 11, 10, 43, 129955))
2025-06-11 07:10:43,131 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:43,131 INFO sqlalchemy.engine.Engine [cached since 86.63s ago] ('207bf09b68fa4d99b88557038b1d5aeb', '9e48f455e4424e1b92c8a673193e7fd6', 'user', "nothing, let's talk about cars", datetime.datetime(2025, 6, 11, 11, 10, 43, 131021))
2025-06-11 07:10:43,132 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:10:43,132 INFO sqlalchemy.engine.Engine [cached since 86.63s ago] ('497521f4ab0e4db0af3ce55ef3aff02c', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Absolutely, we can talk about cars! Cars can be so interesting for toddlers with all their colors, shapes, and sounds.\n\nHas Laura shown any interest in cars before, like when seeing them on walks, pointing at toy cars, or making car noises?', datetime.datetime(2025, 6, 11, 11, 10, 43, 132037))
2025-06-11 07:10:43,133 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50783 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:10:57,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:10:57,823 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:10:57,823 INFO sqlalchemy.engine.Engine [cached since 118.4s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:57,827 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:10:57,827 INFO sqlalchemy.engine.Engine [cached since 116s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:10:57,830 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:10:57,830 INFO sqlalchemy.engine.Engine [cached since 116s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:10:57,834 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:10:57,834 INFO sqlalchemy.engine.Engine [cached since 102.5s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:10:57,837 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:10:57,837 INFO sqlalchemy.engine.Engine [cached since 93.59s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:10:57,841 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:10:57,841 INFO sqlalchemy.engine.Engine [cached since 93.59s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:11:00,485 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,485 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('72cb693f9eea4cebaff3e22929dfc299', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 11, 0, 485269))
2025-06-11 07:11:00,486 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,486 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('833204e41d02447194d078d5b4ee0caf', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn more about Laura and her day. \n\nWhat did Laura do today?', datetime.datetime(2025, 6, 11, 11, 11, 0, 486158))
2025-06-11 07:11:00,486 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,486 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('775dd609eac846e7910b918aa643df82', '9e48f455e4424e1b92c8a673193e7fd6', 'user', "nothing, let's talk about cars", datetime.datetime(2025, 6, 11, 11, 11, 0, 486681))
2025-06-11 07:11:00,487 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,487 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('aa3ac6f1510b4001b0020ed42baf3de2', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Absolutely, we can talk about cars! Cars can be so interesting for toddlers with all their colors, shapes, and sounds.\n\nHas Laura shown any interest in cars before, like when seeing them on walks, pointing at toy cars, or making car noises?', datetime.datetime(2025, 6, 11, 11, 11, 0, 487499))
2025-06-11 07:11:00,488 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,488 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('3976beca4e0d43fdad34c0b216f982e6', '9e48f455e4424e1b92c8a673193e7fd6', 'user', "I mean, let's you and I talk about cars, like real muscle cars, vroom vroom", datetime.datetime(2025, 6, 11, 11, 11, 0, 488171))
2025-06-11 07:11:00,488 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:00,488 INFO sqlalchemy.engine.Engine [cached since 104s ago] ('08d32d344c794145b22046b9abe8d697', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'That sounds funmuscle cars are definitely exciting with their big engines and loud "vroom vroom" sounds! Since I\'m here to support you with Laura\' ... (133 characters truncated) ...  on how to introduce the fun of cars (muscle cars, sounds, colors) to Laura in a toddler-friendly way? Or did you want to keep chatting just for fun?', datetime.datetime(2025, 6, 11, 11, 11, 0, 488694))
2025-06-11 07:11:00,489 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50784 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:11:12,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:11:12,953 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:11:12,953 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:11:12,956 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:11:12,957 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:11:12,960 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:11:12,960 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:11:12,963 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:11:12,963 INFO sqlalchemy.engine.Engine [cached since 117.6s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:11:12,966 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:11:12,966 INFO sqlalchemy.engine.Engine [cached since 108.7s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:11:12,969 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:11:12,969 INFO sqlalchemy.engine.Engine [cached since 108.7s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:11:14,533 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,533 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('3bea2d12ec5a4d3f9bcd77ee01c1bd21', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 11, 14, 533223))
2025-06-11 07:11:14,534 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,534 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('10d9b4c8f4ad4e639c2fbcd2173daf19', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn more about Laura and her day. \n\nWhat did Laura do today?', datetime.datetime(2025, 6, 11, 11, 11, 14, 534035))
2025-06-11 07:11:14,534 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,534 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('789e01dfbea14a33bc7a5632c0730f87', '9e48f455e4424e1b92c8a673193e7fd6', 'user', "nothing, let's talk about cars", datetime.datetime(2025, 6, 11, 11, 11, 14, 534646))
2025-06-11 07:11:14,535 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,535 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('000c2d4c29a4414682bbe25002e157c9', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Absolutely, we can talk about cars! Cars can be so interesting for toddlers with all their colors, shapes, and sounds.\n\nHas Laura shown any interest in cars before, like when seeing them on walks, pointing at toy cars, or making car noises?', datetime.datetime(2025, 6, 11, 11, 11, 14, 535296))
2025-06-11 07:11:14,535 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,535 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('d140a57ae293420a81ef3f97d41fe3ea', '9e48f455e4424e1b92c8a673193e7fd6', 'user', "I mean, let's you and I talk about cars, like real muscle cars, vroom vroom", datetime.datetime(2025, 6, 11, 11, 11, 14, 535904))
2025-06-11 07:11:14,536 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,536 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('65d759220bc94df1836e37e1f70bdfef', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'That sounds funmuscle cars are definitely exciting with their big engines and loud "vroom vroom" sounds! Since I\'m here to support you with Laura\' ... (133 characters truncated) ...  on how to introduce the fun of cars (muscle cars, sounds, colors) to Laura in a toddler-friendly way? Or did you want to keep chatting just for fun?', datetime.datetime(2025, 6, 11, 11, 11, 14, 536457))
2025-06-11 07:11:14,537 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,537 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('55c37dc095ef433c924eb180365d5e7f', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'just for fun', datetime.datetime(2025, 6, 11, 11, 11, 14, 537094))
2025-06-11 07:11:14,539 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:11:14,539 INFO sqlalchemy.engine.Engine [cached since 118s ago] ('d924c6f50b714fc1a6f16d216c696253', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Got it! Muscle cars are seriously coolthe colors, the power, the noise Do you have a favorite muscle car, or one you remember from your own childhood?', datetime.datetime(2025, 6, 11, 11, 11, 14, 539853))
2025-06-11 07:11:14,540 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50785 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:12:43,473 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:12:43,473 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:12:43,474 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:43,477 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:12:43,477 INFO sqlalchemy.engine.Engine [cached since 221.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:43,480 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:12:43,481 INFO sqlalchemy.engine.Engine [cached since 221.7s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:12:43,484 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50797 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-11 07:12:46,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:12:46,627 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:12:46,627 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:46,629 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50797 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:12:46,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:12:46,676 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:12:46,676 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:46,677 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50797 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:12:48,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:12:48,581 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:12:48,581 INFO sqlalchemy.engine.Engine [cached since 229.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:48,583 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:12:48,583 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:12:48,584 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:12:48,584 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:12:48,586 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:12:48,586 INFO sqlalchemy.engine.Engine [cached since 213.3s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:12:48,587 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:12:48,587 INFO sqlalchemy.engine.Engine [cached since 204.3s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:12:48,588 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:12:48,588 INFO sqlalchemy.engine.Engine [cached since 204.3s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:12:49,506 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:12:49,506 INFO sqlalchemy.engine.Engine [cached since 213s ago] ('4c6a29e626c8405fa209ef1c36ed88e0', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'test', datetime.datetime(2025, 6, 11, 11, 12, 49, 505933))
2025-06-11 07:12:49,508 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:12:49,508 INFO sqlalchemy.engine.Engine [cached since 213s ago] ('e97323d32616412990b43a16841aff85', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! To get started, can you tell me what Laura did today?', datetime.datetime(2025, 6, 11, 11, 12, 49, 508156))
2025-06-11 07:12:49,510 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50797 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:13:53,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:13:53,995 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:13:53,995 INFO sqlalchemy.engine.Engine [cached since 294.6s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:53,999 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50801 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:13:55,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:13:55,607 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:13:55,607 INFO sqlalchemy.engine.Engine [cached since 296.2s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:55,609 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:13:55,609 INFO sqlalchemy.engine.Engine [cached since 293.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:55,610 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:13:55,610 INFO sqlalchemy.engine.Engine [cached since 293.8s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:13:55,611 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50801 - "GET /api/parent HTTP/1.1" 200 OK
2025-06-11 07:13:57,294 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:13:57,295 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:13:57,295 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:57,299 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50801 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:13:57,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:13:57,357 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:13:57,357 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:57,358 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50801 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:13:58,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:13:58,917 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:13:58,917 INFO sqlalchemy.engine.Engine [cached since 299.5s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:58,920 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:13:58,920 INFO sqlalchemy.engine.Engine [cached since 297.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:13:58,924 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:13:58,924 INFO sqlalchemy.engine.Engine [cached since 297.1s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:13:58,927 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:13:58,927 INFO sqlalchemy.engine.Engine [cached since 283.6s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:13:58,930 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:13:58,930 INFO sqlalchemy.engine.Engine [cached since 274.7s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:13:58,933 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:13:58,933 INFO sqlalchemy.engine.Engine [cached since 274.7s ago] ('9e48f455e4424e1b92c8a673193e7fd6',)
2025-06-11 07:13:59,869 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:13:59,869 INFO sqlalchemy.engine.Engine [cached since 283.4s ago] ('04110049e9fd4bfa9a6c08e54c645d2c', '9e48f455e4424e1b92c8a673193e7fd6', 'user', 'test', datetime.datetime(2025, 6, 11, 11, 13, 59, 869458))
2025-06-11 07:13:59,871 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:13:59,871 INFO sqlalchemy.engine.Engine [cached since 283.4s ago] ('b2ab2cfa7a11424c8c23e58f66d4eb0c', '9e48f455e4424e1b92c8a673193e7fd6', 'assistant', 'Hello! Im excited to learn more about Laura and her interests. To get started, could you tell me what Laura did today?', datetime.datetime(2025, 6, 11, 11, 13, 59, 871471))
2025-06-11 07:13:59,873 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50801 - "POST /chat HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'main_dev.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1156675]
/home/mike/.local/lib/python3.12/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [1193271]
INFO:     Waiting for application startup.
2025-06-11 07:17:35,338 INFO sqlalchemy.engine.Engine SELECT DATABASE()
2025-06-11 07:17:35,338 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,339 INFO sqlalchemy.engine.Engine SELECT @@sql_mode
2025-06-11 07:17:35,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,339 INFO sqlalchemy.engine.Engine SELECT @@lower_case_table_names
2025-06-11 07:17:35,339 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,340 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:17:35,340 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`user`
2025-06-11 07:17:35,340 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,342 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`parent_profiles`
2025-06-11 07:17:35,342 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,343 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`child_profiles`
2025-06-11 07:17:35,343 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,344 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`chat_sessions`
2025-06-11 07:17:35,344 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,345 INFO sqlalchemy.engine.Engine DESCRIBE `elect_app`.`chat_messages`
2025-06-11 07:17:35,346 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-11 07:17:35,347 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-06-11 07:19:23,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:19:23,984 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:19:23,985 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:23,990 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50816 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:19:24,113 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:19:24,114 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:19:24,114 INFO sqlalchemy.engine.Engine [cached since 0.1295s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:24,117 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50816 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:19:26,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:19:26,197 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:19:26,198 INFO sqlalchemy.engine.Engine [cached since 2.213s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:26,209 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:19:26,210 INFO sqlalchemy.engine.Engine [generated in 0.00055s] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:26,219 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:19:26,219 INFO sqlalchemy.engine.Engine [generated in 0.00067s] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:19:26,225 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:19:26,225 INFO sqlalchemy.engine.Engine [generated in 0.00051s] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:19:26,230 INFO sqlalchemy.engine.Engine INSERT INTO chat_sessions (id, child_id, created_at) VALUES (%s, %s, %s)
2025-06-11 07:19:26,230 INFO sqlalchemy.engine.Engine [generated in 0.00048s] ('d7c4c64de96a4209bac02104f65d3791', '416c9c7f671b43448d0fe0b1653c0ba4', datetime.datetime(2025, 6, 11, 11, 19, 26, 230672))
2025-06-11 07:19:26,232 INFO sqlalchemy.engine.Engine COMMIT
2025-06-11 07:19:26,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:19:26,242 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id, chat_sessions.child_id, chat_sessions.created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:19:26,242 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:19:26,245 INFO sqlalchemy.engine.Engine SELECT chat_messages.id AS chat_messages_id, chat_messages.session_id AS chat_messages_session_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE %s = chat_messages.session_id
2025-06-11 07:19:26,246 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:19:27,007 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:27,008 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ('e8e3e3af76314818b842c20d336fba41', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 19, 27, 7895))
2025-06-11 07:19:27,008 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:27,009 INFO sqlalchemy.engine.Engine [cached since 0.001254s ago] ('14ebf2ae46e74826a4986d1887a6adda', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'Hello! Im excited to chat with you about Lauras day and her learning. What did Laura do today?', datetime.datetime(2025, 6, 11, 11, 19, 27, 8861))
2025-06-11 07:19:27,009 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50816 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:19:29,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:19:29,873 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:19:29,874 INFO sqlalchemy.engine.Engine [cached since 5.889s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:29,875 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:19:29,875 INFO sqlalchemy.engine.Engine [cached since 3.666s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:19:29,876 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:19:29,876 INFO sqlalchemy.engine.Engine [cached since 3.657s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:19:29,877 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:19:29,877 INFO sqlalchemy.engine.Engine [cached since 3.653s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:19:29,878 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:19:29,879 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:19:29,880 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:19:29,880 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:19:30,811 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:30,812 INFO sqlalchemy.engine.Engine [cached since 3.804s ago] ('017fadd81b6241e5b6914a390a8e8af4', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 19, 30, 811608))
2025-06-11 07:19:30,813 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:30,814 INFO sqlalchemy.engine.Engine [cached since 3.806s ago] ('8a29b524f14341978270999397dbff19', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'Hello! Im excited to chat with you about Lauras day and her learning. What did Laura do today?', datetime.datetime(2025, 6, 11, 11, 19, 30, 813802))
2025-06-11 07:19:30,815 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:30,815 INFO sqlalchemy.engine.Engine [cached since 3.808s ago] ('168f787e90e041d09d6954ee2f3ab610', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'donkeys', datetime.datetime(2025, 6, 11, 11, 19, 30, 815634))
2025-06-11 07:19:30,817 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:19:30,817 INFO sqlalchemy.engine.Engine [cached since 3.81s ago] ('c6de93e9c5b94e37b50623bd9fa5e34e', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'That sounds interesting! Can you tell me a little more about what Laura did with the donkeys? For example, did she see them in person, look at pictures, read a story, or something else?', datetime.datetime(2025, 6, 11, 11, 19, 30, 817396))
2025-06-11 07:19:30,819 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50816 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:20:31,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:20:31,072 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:20:31,072 INFO sqlalchemy.engine.Engine [cached since 67.09s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:20:31,076 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:20:31,076 INFO sqlalchemy.engine.Engine [cached since 64.87s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:20:31,079 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:20:31,079 INFO sqlalchemy.engine.Engine [cached since 64.86s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:20:31,083 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:20:31,083 INFO sqlalchemy.engine.Engine [cached since 64.86s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:20:31,086 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:20:31,086 INFO sqlalchemy.engine.Engine [cached since 61.21s ago] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:20:31,089 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:20:31,089 INFO sqlalchemy.engine.Engine [cached since 61.21s ago] ('d7c4c64de96a4209bac02104f65d3791',)
2025-06-11 07:20:32,770 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,770 INFO sqlalchemy.engine.Engine [cached since 65.76s ago] ('1970aa272cc140748837a524ba835190', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 20, 32, 770631))
2025-06-11 07:20:32,771 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,771 INFO sqlalchemy.engine.Engine [cached since 65.76s ago] ('6b8edfecb82843c0adf0649b8ea47217', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'Hello! Im excited to chat with you about Lauras day and her learning. What did Laura do today?', datetime.datetime(2025, 6, 11, 11, 20, 32, 771457))
2025-06-11 07:20:32,772 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,772 INFO sqlalchemy.engine.Engine [cached since 65.76s ago] ('df9b6fa68eb34980b5f9171bcffa41b4', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'donkeys', datetime.datetime(2025, 6, 11, 11, 20, 32, 772049))
2025-06-11 07:20:32,772 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,772 INFO sqlalchemy.engine.Engine [cached since 65.76s ago] ('aa30425cdb3044249788545b63ceae4e', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'That sounds interesting! Can you tell me a little more about what Laura did with the donkeys? For example, did she see them in person, look at pictures, read a story, or something else?', datetime.datetime(2025, 6, 11, 11, 20, 32, 772529))
2025-06-11 07:20:32,773 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,773 INFO sqlalchemy.engine.Engine [cached since 65.77s ago] ('23e5489a315a4b449e2ab028646ae81e', 'd7c4c64de96a4209bac02104f65d3791', 'user', 'looked at them', datetime.datetime(2025, 6, 11, 11, 20, 32, 773161))
2025-06-11 07:20:32,773 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:20:32,773 INFO sqlalchemy.engine.Engine [cached since 65.77s ago] ('694d5d8257dd42208a5428b9e84393ed', 'd7c4c64de96a4209bac02104f65d3791', 'assistant', 'Wonderful! Did Laura seem curious about the donkeys? For example, did she make any sounds, point, try to get closer, or show any other reactions when she was looking at them?', datetime.datetime(2025, 6, 11, 11, 20, 32, 773680))
2025-06-11 07:20:32,774 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50821 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:22:45,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:22:45,656 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:22:45,656 INFO sqlalchemy.engine.Engine [cached since 201.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:22:45,657 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50825 - "GET /chat_redirect?child_id=416c9c7f-671b-4344-8d0f-e0b1653c0ba4 HTTP/1.1" 200 OK
2025-06-11 07:22:45,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:22:45,762 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:22:45,762 INFO sqlalchemy.engine.Engine [cached since 201.8s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:22:45,763 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     100.92.101.90:50825 - "GET /whoami HTTP/1.1" 200 OK
2025-06-11 07:22:48,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:22:48,288 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:22:48,288 INFO sqlalchemy.engine.Engine [cached since 204.3s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:22:48,289 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:22:48,289 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:22:48,291 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:22:48,291 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:22:48,292 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:22:48,292 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:22:48,294 INFO sqlalchemy.engine.Engine INSERT INTO chat_sessions (id, child_id, created_at) VALUES (%s, %s, %s)
2025-06-11 07:22:48,294 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('171b46fc947140288082c46c74abc10b', '416c9c7f671b43448d0fe0b1653c0ba4', datetime.datetime(2025, 6, 11, 11, 22, 48, 294281))
2025-06-11 07:22:48,295 INFO sqlalchemy.engine.Engine COMMIT
2025-06-11 07:22:48,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:22:48,299 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id, chat_sessions.child_id, chat_sessions.created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:22:48,299 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('171b46fc947140288082c46c74abc10b',)
2025-06-11 07:22:48,300 INFO sqlalchemy.engine.Engine SELECT chat_messages.id AS chat_messages_id, chat_messages.session_id AS chat_messages_session_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE %s = chat_messages.session_id
2025-06-11 07:22:48,300 INFO sqlalchemy.engine.Engine [cached since 202.1s ago] ('171b46fc947140288082c46c74abc10b',)
2025-06-11 07:22:49,239 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:22:49,239 INFO sqlalchemy.engine.Engine [cached since 202.2s ago] ('21e1014cac85447f8c2ebae0dc136dc2', '171b46fc947140288082c46c74abc10b', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 22, 49, 239074))
2025-06-11 07:22:49,241 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:22:49,241 INFO sqlalchemy.engine.Engine [cached since 202.2s ago] ('2a9533e623b64bae9abface9d05c12da', '171b46fc947140288082c46c74abc10b', 'assistant', 'Hello! Im excited to chat with you about Laura and her learning adventures. Can you tell me what Laura did today?', datetime.datetime(2025, 6, 11, 11, 22, 49, 241447))
2025-06-11 07:22:49,243 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50825 - "POST /chat HTTP/1.1" 200 OK
2025-06-11 07:23:02,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-11 07:23:02,913 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.hashed_password, user.is_active, user.is_superuser, user.is_verified 
FROM user 
WHERE user.id = %s
2025-06-11 07:23:02,913 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:23:02,916 INFO sqlalchemy.engine.Engine SELECT parent_profiles.id, parent_profiles.user_id, parent_profiles.name, parent_profiles.preferences 
FROM parent_profiles 
WHERE parent_profiles.user_id = %s
2025-06-11 07:23:02,917 INFO sqlalchemy.engine.Engine [cached since 216.7s ago] ('f2acd47d-fce7-4267-969b-2ebaaf4d2695',)
2025-06-11 07:23:02,921 INFO sqlalchemy.engine.Engine SELECT child_profiles.parent_id AS child_profiles_parent_id, child_profiles.id AS child_profiles_id, child_profiles.name AS child_profiles_name, child_profiles.age_years AS child_profiles_age_years, child_profiles.age_months AS child_profiles_age_months, child_profiles.preferences AS child_profiles_preferences 
FROM child_profiles 
WHERE child_profiles.parent_id IN (%s)
2025-06-11 07:23:02,921 INFO sqlalchemy.engine.Engine [cached since 216.7s ago] ('af85239f25324d4c8ca911f5352fbe5f',)
2025-06-11 07:23:02,924 INFO sqlalchemy.engine.Engine SELECT child_profiles.id, child_profiles.parent_id, child_profiles.name, child_profiles.age_years, child_profiles.age_months, child_profiles.preferences 
FROM child_profiles 
WHERE child_profiles.id = %s
2025-06-11 07:23:02,924 INFO sqlalchemy.engine.Engine [cached since 216.7s ago] ('416c9c7f671b43448d0fe0b1653c0ba4',)
2025-06-11 07:23:02,927 INFO sqlalchemy.engine.Engine SELECT chat_sessions.id AS chat_sessions_id, chat_sessions.child_id AS chat_sessions_child_id, chat_sessions.created_at AS chat_sessions_created_at 
FROM chat_sessions 
WHERE chat_sessions.id = %s
2025-06-11 07:23:02,927 INFO sqlalchemy.engine.Engine [cached since 213s ago] ('171b46fc947140288082c46c74abc10b',)
2025-06-11 07:23:02,930 INFO sqlalchemy.engine.Engine SELECT chat_messages.session_id AS chat_messages_session_id, chat_messages.id AS chat_messages_id, chat_messages.`role` AS chat_messages_role, chat_messages.content AS chat_messages_content, chat_messages.timestamp AS chat_messages_timestamp 
FROM chat_messages 
WHERE chat_messages.session_id IN (%s)
2025-06-11 07:23:02,931 INFO sqlalchemy.engine.Engine [cached since 213.1s ago] ('171b46fc947140288082c46c74abc10b',)
2025-06-11 07:23:04,991 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:23:04,991 INFO sqlalchemy.engine.Engine [cached since 218s ago] ('0b94371626704511a02479c86cea8461', '171b46fc947140288082c46c74abc10b', 'user', 'hi', datetime.datetime(2025, 6, 11, 11, 23, 4, 991619))
2025-06-11 07:23:04,993 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:23:04,993 INFO sqlalchemy.engine.Engine [cached since 218s ago] ('05a839a6b31f439ab910a511d013bc9a', '171b46fc947140288082c46c74abc10b', 'assistant', 'Hello! Im excited to chat with you about Laura and her learning adventures. Can you tell me what Laura did today?', datetime.datetime(2025, 6, 11, 11, 23, 4, 993685))
2025-06-11 07:23:04,995 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:23:04,995 INFO sqlalchemy.engine.Engine [cached since 218s ago] ('ee7db4fd31cc4791a76ec4c166da0564', '171b46fc947140288082c46c74abc10b', 'user', 'ate cheese', datetime.datetime(2025, 6, 11, 11, 23, 4, 995550))
2025-06-11 07:23:04,997 INFO sqlalchemy.engine.Engine INSERT INTO chat_messages (id, session_id, `role`, content, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-06-11 07:23:04,997 INFO sqlalchemy.engine.Engine [cached since 218s ago] ('3cd32cfab5bf4cc895c595baf58419c2', '171b46fc947140288082c46c74abc10b', 'assistant', 'Yum! Cheese can be such a fun and interesting food for little ones. While Laura was eating cheese, how did she interact with it? For example, did she try to pick it up herself, smell it, squish it with her fingers, or make any sounds or faces?', datetime.datetime(2025, 6, 11, 11, 23, 4, 997339))
2025-06-11 07:23:04,999 INFO sqlalchemy.engine.Engine COMMIT
INFO:     100.92.101.90:50826 - "POST /chat HTTP/1.1" 200 OK
